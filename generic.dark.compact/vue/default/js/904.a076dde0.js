"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[904,314],{89661:function(e,t,a){a.d(t,{Z:function(){return w}});var l=a(73396),n=a(87139),s=a(44870),i=a(4702),o=a(20788),u=a(99660),d=a(85219);const c={class:"activity"},r={class:"name"},v={key:0};var m=(0,l.aZ)({__name:"card-activities",props:{isLoading:{type:Boolean,default:!0},showBy:{type:Boolean,default:!1},items:null},setup(e){const t=e,a=[{icon:"overflow",items:[{text:"View details"},{text:"Delete"}]}];return(m,g)=>((0,l.wg)(),(0,l.iD)("div",{id:"activities-list",class:(0,n.C_)({load:!e.isLoading})},[(0,l.Wm)(d.Z,{"is-loading":t.isLoading,"container-selector":"#activities-list"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(i.DxList),{class:"activities-list",items:t.items,"scrolling-enabled":!1},{item:(0,l.w5)((({data:e})=>[(0,l._)("div",null,[(0,l._)("div",c,[(0,l._)("div",r,(0,n.zw)(e.name),1),(0,l._)("div",{class:(0,n.C_)(["date",{by:t.showBy}])},[(0,l._)("span",null,(0,n.zw)((0,s.SU)(u.p6)(new Date(e.date))),1),t.showBy?((0,l.wg)(),(0,l.iD)("span",v,"by")):(0,l.kq)("",!0),(0,l._)("span",null,(0,n.zw)(e.manager),1)],2),(0,l.Wm)((0,s.SU)(o.DxMenu),{class:"overflow-menu",items:a})])])])),_:1},8,["items"])])),_:1},8,["is-loading"])],2))}}),g=a(40089);const f=(0,g.Z)(m,[["__scopeId","data-v-fb720686"]]);var w=f},66329:function(e,t,a){a.d(t,{Z:function(){return I}});var l=a(73396),n=a(44870),s=a(87139),i=a(86050),o=a(16453),u=a(6224),d=a(68389),c=a(78517),r=a(45903),v=a(99660),m=a(85219);const g={class:"messages",id:"card-messages"},f={class:"input-content"},w={class:"messages-content"},p={class:"message-container"},_={class:"avatar"},x={class:"message dx-card"},D={class:"message-title"},S={class:"left-title"},W={class:"subject"},y={class:"message-text"};var U=(0,l.aZ)({__name:"card-messages",props:{isLoading:{type:Boolean,default:!0},user:{default:""},messages:{default:()=>[]}},setup(e){const t=e,a=(0,n.iH)(t.messages),U=(0,n.iH)(""),b=(0,n.iH)("");function h(){b.value="",U.value=""}function I(e){return e.split(" ").map((e=>e[0])).join("")}function k(e){return e.replace("{username}",t.user)}function Z(){if(""===U.value||""===b.value)return;const e={subject:b.value,text:U.value,manager:t.user,date:new Date};a.value.push(e),h()}return(0,l.YP)((()=>t.messages),(e=>{a.value=e})),(e,h)=>((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(m.Z,{"is-loading":t.isLoading,"container-selector":"#card-messages"},{default:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l.Wm)((0,n.SU)(o.DxTextBox),{label:"Subject","styling-mode":"outlined",value:b.value,onValueChanged:h[0]||(h[0]=e=>b.value=e.value)},null,8,["value"]),(0,l.Wm)((0,n.SU)(i.DxTextArea),{label:"Message","styling-mode":"outlined",value:U.value,height:150,onValueChanged:h[1]||(h[1]=e=>U.value=e.value)},null,8,["value"]),(0,l.Wm)((0,n.SU)(d.DxToolbar),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(d.DxItem),{location:"before"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(c.DxFileUploader),{class:"file-uploader","label-text":"","select-button-text":"Attach file"})])),_:1}),(0,l.Wm)((0,n.SU)(d.DxItem),{widget:"dxButton",location:"after",options:{text:"Send",stylingMode:"outlined",type:"default",onClick:Z}},null,8,["options"])])),_:1})]),(0,l.Wm)((0,n.SU)(r.DxScrollView),null,{default:(0,l.w5)((()=>[(0,l._)("div",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,(e=>((0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",_,(0,s.zw)(I(e.manager)),1),(0,l._)("div",x,[(0,l._)("div",D,[(0,l._)("div",S,[(0,l._)("div",W,(0,s.zw)(e.subject),1),(0,l._)("div",null,(0,s.zw)((0,n.SU)(v.p6)(new Date(e.date)))+" - "+(0,s.zw)(e.manager),1)]),(0,l.Wm)((0,n.SU)(u.DxButton),{icon:"overflow"})]),(0,l._)("div",y,(0,s.zw)(k(e.text)),1)])])))),256))])])),_:1})])),_:1},8,["is-loading"])]))}}),b=a(40089);const h=(0,b.Z)(U,[["__scopeId","data-v-574a130b"]]);var I=h},5555:function(e,t,a){a.d(t,{Z:function(){return S}});var l=a(73396),n=a(44870),s=a(87139),i=a(86050),o=a(6224),u=a(68389),d=a(99660),c=a(88707),r=a(85219);const v={class:"notes",id:"card-notes"},m={class:"input-content"},g={class:"notes-content"},f={class:"note dx-card"},w={class:"note-title"},p={class:"note-text"};var _=(0,l.aZ)({__name:"card-notes",props:{user:{default:""},contactId:{default:null},items:null},setup(e){const t=e,a=(0,n.iH)(!0),_=(0,n.iH)([]),x=(0,n.iH)("");function D(){x.value=""}function S(){if(""===x.value)return;const e={manager:t.user,date:new Date,text:x.value};_.value.push(e),D()}async function W(){null!=t.contactId&&(a.value=!0,_.value=await(0,c.$f)(t.contactId),a.value=!1)}return(0,l.YP)((()=>t.items),(e=>{e&&e.length>0&&(_.value=e,a.value=!1)})),(0,l.bv)((()=>{t.contactId&&W()})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(r.Z,{"is-loading":a.value,"container-selector":"#card-notes"},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l.Wm)((0,n.SU)(i.DxTextArea),{label:"New Note","styling-mode":"outlined",value:x.value,onValueChanged:t[0]||(t[0]=e=>x.value=e.value)},null,8,["value"]),(0,l.Wm)((0,n.SU)(u.DxToolbar),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(u.DxItem),{widget:"dxButton",location:"after",options:{text:"Add",stylingMode:"outlined",type:"default",onClick:S}},null,8,["options"])])),_:1})]),(0,l._)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.value,(e=>((0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",w,[(0,l._)("div",null,(0,s.zw)((0,n.SU)(d.p6)(new Date(e.date)))+" - "+(0,s.zw)(e.manager),1),(0,l.Wm)((0,n.SU)(o.DxButton),{icon:"overflow"})]),(0,l._)("div",p,(0,s.zw)(e.text),1)])))),256))])])),_:1},8,["is-loading"])]))}}),x=a(40089);const D=(0,x.Z)(_,[["__scopeId","data-v-4b1f3c4c"]]);var S=D},45173:function(e,t,a){a.r(t),a.d(t,{default:function(){return r}});var l=a(73396),n=a(44870),s=a(69119),i=a(85219);const o={id:"card-tasks"};var u=(0,l.aZ)({__name:"card-tasks",props:{isLoading:{type:Boolean,default:!0},manager:{default:""},tasks:{default:()=>[]}},setup(e){const t=e,a=(0,n.iH)([]);(0,l.YP)((()=>t.tasks),(e=>{a.value=e}));const u=(0,l.Fl)((()=>a.value.filter((e=>!!e.status&&!!e.priority)))),d=e=>{const t=e.component.getVisibleRows(),l=a.value.indexOf(t[e.toIndex].data),n=a.value.indexOf(e.itemData);a.value.splice(n,1),a.value.splice(l,0,e.itemData)};return(e,a)=>((0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(i.Z,{"is-loading":t.isLoading,"container-selector":"#card-tasks"},{default:(0,l.w5)((()=>[t.isLoading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,n.SU)(s.DxDataGrid),{key:0,"data-source":(0,n.SU)(u),"column-auto-width":!0,"selection-filter":["done","=",!0]},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(s.DxSelection),{deferred:!0,"show-check-boxes-mode":"always",mode:"multiple"}),(0,l.Wm)((0,n.SU)(s.DxRowDragging),{"allow-reordering":!0,"on-reorder":d,"show-drag-icons":!0}),(0,l.Wm)((0,n.SU)(s.DxColumn),{"data-field":"text",caption:"Subject","hiding-priority":3}),(0,l.Wm)((0,n.SU)(s.DxColumn),{"data-field":"date","data-type":"date",caption:"Due Date","hiding-priority":1}),(0,l.Wm)((0,n.SU)(s.DxColumn),{caption:"Assigned To","data-field":"manager","hiding-priority":0})])),_:1},8,["data-source"]))])),_:1},8,["is-loading"])]))}}),d=a(40089);const c=(0,d.Z)(u,[["__scopeId","data-v-6d583fa8"]]);var r=c},68828:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=a(73396),n=a(44870),s=a(32583),i=a(70369),o=a(89661),u=a(5555),d=a(66329),c=a(88707),r=a(45173),v=a(98184);const m={class:"dx-card"};var g=(0,l.aZ)({__name:"contact-cards",props:{contactId:{default:null},isLoading:{type:Boolean,default:!0},contactName:{default:""},tasks:{default:()=>[]},activities:{default:()=>[]}},setup(e){const t=e,a=(0,n.iH)(!0),g=(0,n.iH)([]);async function f(){t.contactId&&(a.value=!0,g.value=await(0,c.vz)(t.contactId),a.value=!1)}return(0,l.bv)((()=>{f()})),(e,c)=>((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)((0,n.SU)(s.DxTabPanel),{"show-nav-buttons":!0},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.DxItem),{title:"Tasks"},{default:(0,l.w5)((()=>[(0,l.Wm)(r["default"],{tasks:t.tasks,"is-loading":t.isLoading,manager:t.contactName},null,8,["tasks","is-loading","manager"])])),_:1}),(0,l.Wm)((0,n.SU)(i.DxItem),{title:"Activities"},{default:(0,l.w5)((()=>[(0,l.Wm)(o.Z,{"is-loading":t.isLoading,items:t.activities,"show-by":!0},null,8,["is-loading","items"])])),_:1}),(0,l.Wm)((0,n.SU)(i.DxItem),{title:"Opportunities"},{default:(0,l.w5)((()=>[(0,l.Wm)(v["default"],{"contact-id":t.contactId},null,8,["contact-id"])])),_:1}),(0,l.Wm)((0,n.SU)(i.DxItem),{title:"Notes"},{default:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{user:t.contactName,"contact-id":t.contactId},null,8,["user","contact-id"])])),_:1}),(0,l.Wm)((0,n.SU)(i.DxItem),{title:"Messages",badge:g.value?.length+""},{default:(0,l.w5)((()=>[(0,l.Wm)(d.Z,{user:t.contactName,messages:g.value,"is-loading":a.value},null,8,["user","messages","is-loading"])])),_:1},8,["badge"])])),_:1})]))}});const f=g;var w=f}}]);