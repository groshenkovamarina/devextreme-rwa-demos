"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[3493],{43493:function(t,e,n){
/*!
 * devextreme-vue
 * Version: 22.1.5
 * Build date: Fri Sep 02 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */
var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DxVectorMapTitleSubtitle=e.DxVectorMapTitle=e.DxTooltipBorder=e.DxTooltip=e.DxTitle=e.DxSubtitle=e.DxSource=e.DxSize=e.DxShadow=e.DxProjection=e.DxMargin=e.DxLoadingIndicator=e.DxLegendTitleSubtitle=e.DxLegendTitle=e.DxLegend=e.DxLayer=e.DxLabel=e.DxImage=e.DxFormat=e.DxFont=e.DxExport=e.DxControlBar=e.DxCommonAnnotationSettings=e.DxBorder=e.DxBackground=e.DxAnnotationBorder=e.DxAnnotation=e.DxVectorMap=void 0;var i=o(n(12146)),r=n(35535),a=n(35535),l=r.createComponent({props:{annotations:Array,background:Object,bounds:Array,center:Array,commonAnnotationSettings:Object,controlBar:Object,customizeAnnotation:Function,disabled:Boolean,elementAttr:Object,export:Object,layers:[Array,Object],legends:Array,loadingIndicator:Object,maxZoomFactor:Number,onCenterChanged:Function,onClick:Function,onDisposing:Function,onDrawn:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onIncidentOccurred:Function,onInitialized:Function,onOptionChanged:Function,onSelectionChanged:Function,onTooltipHidden:Function,onTooltipShown:Function,onZoomFactorChanged:Function,panningEnabled:Boolean,pathModified:Boolean,projection:[Object,String],redrawOnResize:Boolean,rtlEnabled:Boolean,size:Object,theme:String,title:[Object,String],tooltip:Object,touchEnabled:Boolean,wheelEnabled:Boolean,zoomFactor:Number,zoomingEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:annotations":null,"update:background":null,"update:bounds":null,"update:center":null,"update:commonAnnotationSettings":null,"update:controlBar":null,"update:customizeAnnotation":null,"update:disabled":null,"update:elementAttr":null,"update:export":null,"update:layers":null,"update:legends":null,"update:loadingIndicator":null,"update:maxZoomFactor":null,"update:onCenterChanged":null,"update:onClick":null,"update:onDisposing":null,"update:onDrawn":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onIncidentOccurred":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onSelectionChanged":null,"update:onTooltipHidden":null,"update:onTooltipShown":null,"update:onZoomFactorChanged":null,"update:panningEnabled":null,"update:pathModified":null,"update:projection":null,"update:redrawOnResize":null,"update:rtlEnabled":null,"update:size":null,"update:theme":null,"update:title":null,"update:tooltip":null,"update:touchEnabled":null,"update:wheelEnabled":null,"update:zoomFactor":null,"update:zoomingEnabled":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=i.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={annotation:{isCollectionItem:!0,optionName:"annotations"},background:{isCollectionItem:!1,optionName:"background"},commonAnnotationSettings:{isCollectionItem:!1,optionName:"commonAnnotationSettings"},controlBar:{isCollectionItem:!1,optionName:"controlBar"},export:{isCollectionItem:!1,optionName:"export"},layer:{isCollectionItem:!0,optionName:"layers"},legend:{isCollectionItem:!0,optionName:"legends"},loadingIndicator:{isCollectionItem:!1,optionName:"loadingIndicator"},projection:{isCollectionItem:!1,optionName:"projection"},size:{isCollectionItem:!1,optionName:"size"},title:{isCollectionItem:!1,optionName:"title"},tooltip:{isCollectionItem:!1,optionName:"tooltip"},vectorMapTitle:{isCollectionItem:!1,optionName:"title"}}}});e.DxVectorMap=l;var s=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDragging":null,"update:arrowLength":null,"update:arrowWidth":null,"update:border":null,"update:color":null,"update:coordinates":null,"update:customizeTooltip":null,"update:data":null,"update:description":null,"update:font":null,"update:height":null,"update:image":null,"update:name":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:template":null,"update:text":null,"update:textOverflow":null,"update:tooltipEnabled":null,"update:tooltipTemplate":null,"update:type":null,"update:width":null,"update:wordWrap":null,"update:x":null,"update:y":null},props:{allowDragging:Boolean,arrowLength:Number,arrowWidth:Number,border:Object,color:String,coordinates:Array,customizeTooltip:Function,data:{},description:String,font:Object,height:Number,image:[Object,String],name:String,offsetX:Number,offsetY:Number,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,template:{},text:String,textOverflow:String,tooltipEnabled:Boolean,tooltipTemplate:{},type:String,width:Number,wordWrap:String,x:Number,y:Number}});e.DxAnnotation=s,s.$_optionName="annotations",s.$_isCollectionItem=!0,s.$_expectedChildren={annotationBorder:{isCollectionItem:!1,optionName:"border"},border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},image:{isCollectionItem:!1,optionName:"image"},shadow:{isCollectionItem:!1,optionName:"shadow"}};var u=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:cornerRadius":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,cornerRadius:Number,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxAnnotationBorder=u,u.$_optionName="border";var c=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:color":null},props:{borderColor:String,color:String}});e.DxBackground=c,c.$_optionName="background";var d=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:cornerRadius":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,cornerRadius:Number,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxBorder=d,d.$_optionName="border";var h=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDragging":null,"update:arrowLength":null,"update:arrowWidth":null,"update:border":null,"update:color":null,"update:coordinates":null,"update:customizeTooltip":null,"update:data":null,"update:description":null,"update:font":null,"update:height":null,"update:image":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:template":null,"update:text":null,"update:textOverflow":null,"update:tooltipEnabled":null,"update:tooltipTemplate":null,"update:type":null,"update:width":null,"update:wordWrap":null,"update:x":null,"update:y":null},props:{allowDragging:Boolean,arrowLength:Number,arrowWidth:Number,border:Object,color:String,coordinates:Array,customizeTooltip:Function,data:{},description:String,font:Object,height:Number,image:[Object,String],offsetX:Number,offsetY:Number,opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,template:{},text:String,textOverflow:String,tooltipEnabled:Boolean,tooltipTemplate:{},type:String,width:Number,wordWrap:String,x:Number,y:Number}});e.DxCommonAnnotationSettings=h,h.$_optionName="commonAnnotationSettings";var p=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:color":null,"update:enabled":null,"update:horizontalAlignment":null,"update:margin":null,"update:opacity":null,"update:verticalAlignment":null},props:{borderColor:String,color:String,enabled:Boolean,horizontalAlignment:String,margin:Number,opacity:Number,verticalAlignment:String}});e.DxControlBar=p,p.$_optionName="controlBar";var m=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:fileName":null,"update:formats":null,"update:margin":null,"update:printingEnabled":null,"update:proxyUrl":null,"update:svgToCanvas":null},props:{backgroundColor:String,enabled:Boolean,fileName:String,formats:Array,margin:Number,printingEnabled:Boolean,proxyUrl:String,svgToCanvas:Function}});e.DxExport=m,m.$_optionName="export";var _=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:family":null,"update:opacity":null,"update:size":null,"update:weight":null},props:{color:String,family:String,opacity:Number,size:[Number,String],weight:Number}});e.DxFont=_,_.$_optionName="font";var f=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});e.DxFormat=f,f.$_optionName="format";var g=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:url":null,"update:width":null},props:{height:Number,url:String,width:Number}});e.DxImage=g,g.$_optionName="image";var v=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataField":null,"update:enabled":null,"update:font":null},props:{dataField:String,enabled:Boolean,font:Object}});e.DxLabel=v,v.$_optionName="label",v.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var b=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:borderColor":null,"update:borderWidth":null,"update:color":null,"update:colorGroupingField":null,"update:colorGroups":null,"update:customize":null,"update:dataField":null,"update:dataSource":null,"update:elementType":null,"update:hoveredBorderColor":null,"update:hoveredBorderWidth":null,"update:hoveredColor":null,"update:hoverEnabled":null,"update:label":null,"update:maxSize":null,"update:minSize":null,"update:name":null,"update:opacity":null,"update:palette":null,"update:paletteIndex":null,"update:paletteSize":null,"update:selectedBorderColor":null,"update:selectedBorderWidth":null,"update:selectedColor":null,"update:selectionMode":null,"update:size":null,"update:sizeGroupingField":null,"update:sizeGroups":null,"update:type":null},props:{borderColor:String,borderWidth:Number,color:String,colorGroupingField:String,colorGroups:Array,customize:Function,dataField:String,dataSource:{},elementType:String,hoveredBorderColor:String,hoveredBorderWidth:Number,hoveredColor:String,hoverEnabled:Boolean,label:Object,maxSize:Number,minSize:Number,name:String,opacity:Number,palette:[Array,String],paletteIndex:Number,paletteSize:Number,selectedBorderColor:String,selectedBorderWidth:Number,selectedColor:String,selectionMode:String,size:Number,sizeGroupingField:String,sizeGroups:Array,type:String}});e.DxLayer=b,b.$_optionName="layers",b.$_isCollectionItem=!0,b.$_expectedChildren={label:{isCollectionItem:!1,optionName:"label"}};var y=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:border":null,"update:columnCount":null,"update:columnItemSpacing":null,"update:customizeHint":null,"update:customizeItems":null,"update:customizeText":null,"update:font":null,"update:horizontalAlignment":null,"update:itemsAlignment":null,"update:itemTextPosition":null,"update:margin":null,"update:markerColor":null,"update:markerShape":null,"update:markerSize":null,"update:markerTemplate":null,"update:orientation":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:rowCount":null,"update:rowItemSpacing":null,"update:source":null,"update:title":null,"update:verticalAlignment":null,"update:visible":null},props:{backgroundColor:String,border:Object,columnCount:Number,columnItemSpacing:Number,customizeHint:Function,customizeItems:Function,customizeText:Function,font:Object,horizontalAlignment:String,itemsAlignment:String,itemTextPosition:String,margin:[Number,Object],markerColor:String,markerShape:String,markerSize:Number,markerTemplate:{},orientation:String,paddingLeftRight:Number,paddingTopBottom:Number,rowCount:Number,rowItemSpacing:Number,source:Object,title:[Object,String],verticalAlignment:String,visible:Boolean}});e.DxLegend=y,y.$_optionName="legends",y.$_isCollectionItem=!0,y.$_expectedChildren={annotationBorder:{isCollectionItem:!1,optionName:"border"},border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},legendTitle:{isCollectionItem:!1,optionName:"title"},margin:{isCollectionItem:!1,optionName:"margin"},source:{isCollectionItem:!1,optionName:"source"},title:{isCollectionItem:!1,optionName:"title"}};var x=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:verticalAlignment":null},props:{font:Object,horizontalAlignment:String,margin:Object,placeholderSize:Number,subtitle:[Object,String],text:String,verticalAlignment:String}});e.DxLegendTitle=x,x.$_optionName="title",x.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},legendTitleSubtitle:{isCollectionItem:!1,optionName:"subtitle"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"}};var C=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null},props:{font:Object,offset:Number,text:String}});e.DxLegendTitleSubtitle=C,C.$_optionName="subtitle",C.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var S=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:backgroundColor":null,"update:enabled":null,"update:font":null,"update:show":null,"update:text":null},props:{backgroundColor:String,enabled:Boolean,font:Object,show:Boolean,text:String}});e.DxLoadingIndicator=S,S.$_optionName="loadingIndicator",S.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}};var N=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:bottom":null,"update:left":null,"update:right":null,"update:top":null},props:{bottom:Number,left:Number,right:Number,top:Number}});e.DxMargin=N,N.$_optionName="margin";var O=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:aspectRatio":null,"update:from":null,"update:to":null},props:{aspectRatio:Number,from:Function,to:Function}});e.DxProjection=O,O.$_optionName="projection";var w=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:blur":null,"update:color":null,"update:offsetX":null,"update:offsetY":null,"update:opacity":null},props:{blur:Number,color:String,offsetX:Number,offsetY:Number,opacity:Number}});e.DxShadow=w,w.$_optionName="shadow";var k=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:height":null,"update:width":null},props:{height:Number,width:Number}});e.DxSize=k,k.$_optionName="size";var E=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:grouping":null,"update:layer":null},props:{grouping:String,layer:String}});e.DxSource=E,E.$_optionName="source";var z=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}});e.DxSubtitle=z,z.$_optionName="subtitle";var T=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:Object,placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}});e.DxTitle=T,T.$_optionName="title";var j=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:arrowLength":null,"update:border":null,"update:color":null,"update:container":null,"update:contentTemplate":null,"update:cornerRadius":null,"update:customizeTooltip":null,"update:enabled":null,"update:font":null,"update:format":null,"update:opacity":null,"update:paddingLeftRight":null,"update:paddingTopBottom":null,"update:shadow":null,"update:zIndex":null},props:{arrowLength:Number,border:Object,color:String,container:{},contentTemplate:{},cornerRadius:Number,customizeTooltip:Function,enabled:Boolean,font:Object,format:[Object,Function,String],opacity:Number,paddingLeftRight:Number,paddingTopBottom:Number,shadow:Object,zIndex:Number}});e.DxTooltip=j,j.$_optionName="tooltip",j.$_expectedChildren={border:{isCollectionItem:!1,optionName:"border"},font:{isCollectionItem:!1,optionName:"font"},format:{isCollectionItem:!1,optionName:"format"},shadow:{isCollectionItem:!1,optionName:"shadow"},tooltipBorder:{isCollectionItem:!1,optionName:"border"}};var B=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:color":null,"update:dashStyle":null,"update:opacity":null,"update:visible":null,"update:width":null},props:{color:String,dashStyle:String,opacity:Number,visible:Boolean,width:Number}});e.DxTooltipBorder=B,B.$_optionName="border";var D=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:horizontalAlignment":null,"update:margin":null,"update:placeholderSize":null,"update:subtitle":null,"update:text":null,"update:textOverflow":null,"update:verticalAlignment":null,"update:wordWrap":null},props:{font:Object,horizontalAlignment:String,margin:[Number,Object],placeholderSize:Number,subtitle:[Object,String],text:String,textOverflow:String,verticalAlignment:String,wordWrap:String}});e.DxVectorMapTitle=D,D.$_optionName="title",D.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"},margin:{isCollectionItem:!1,optionName:"margin"},subtitle:{isCollectionItem:!1,optionName:"subtitle"},vectorMapTitleSubtitle:{isCollectionItem:!1,optionName:"subtitle"}};var L=a.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:font":null,"update:offset":null,"update:text":null,"update:textOverflow":null,"update:wordWrap":null},props:{font:Object,offset:Number,text:String,textOverflow:String,wordWrap:String}});e.DxVectorMapTitleSubtitle=L,L.$_optionName="subtitle",L.$_expectedChildren={font:{isCollectionItem:!1,optionName:"font"}},e["default"]=l},12146:function(t,e,n){n.r(e),n.d(e,{default:function(){return Fo}});var o=n(77344),i=n(72602),r=n(7181),a={_initEvents:function(){var t,e=this._eventNames,n=e.length,o=this._events={};for(t=0;t<n;++t)o[e[t]]=(0,r["default"])()},_disposeEvents:function(){var t,e=this._events;for(t in e)e[t].empty();this._events=null},on:function(t){var e,n=this._events;for(e in t)n[e].add(t[e]);return function(){for(e in t)n[e].remove(t[e])}},_fire:function(t,e){this._events[t].fire(e)}};function l(t){var e,n=t.prototype;for(e in a)n[e]=a[e]}var s=Number,u=Math.min,c=Math.max,d=Math.abs,h=Math.round,p=Math.log,m=Math.pow,_=2/Math.LN2,f=1/3600/180/10,g=1,v=256,b=[NaN,NaN],y="mercator";function x(t,e){return d(t-e)<1e-8}function C(t,e){return x(t[0],e[0])&&x(t[1],e[1])}function S(t,e,n,o){var i=s(t);return isFinite(i)?u(c(i,e),n):o}function N(t,e,n,o){return[S(t[0],e[0],n[0],o[0]),S(t[1],e[1],n[1],o[1])]}function O(t){return t instanceof j&&t||M.get(t)||M(t)||M.get(y)}var w=function(t){this._initEvents(),this._params=t,this._engine=O(),this._center=this._engine.center(),this._adjustCenter()};function k(t,e,n,o){var i=(n+o)/2;return d(t-i)>d(e-i)?t:e}function E(t,e,n,o){var i=(n+o)/2;return d(t-i)<d(e-i)?t:e}function z(t,e,n){var o=t([n[0],n[3]]),i=t([n[0],n[1]]),r=t([n[2],n[3]]),a=t([n[2],n[1]]),l=E(o[0],i[0],r[0],a[0]),s=E(r[0],a[0],o[0],i[0]),u=E(o[1],r[1],i[1],a[1]),h=E(i[1],a[1],o[1],r[1]);return[2/c(d(l-s),d(u-h)),e([(l+s)/2,(u+h)/2])]}function T(t,e,n){var{min:o,max:i}=R(e,n);t.min=I(o),t.max=I(i)}w.prototype={constructor:w,_minZoom:g,_maxZoom:v,_zoom:g,_center:b,_canvas:{},_scale:[],dispose:function(){this._disposeEvents()},setEngine:function(t){var e=O(t);this._engine!==e&&(this._engine=e,this._fire("engine"),this._changeCenter(e.center())&&this._triggerCenterChanged(),this._changeZoom(this._minZoom)&&this._triggerZoomChanged(),this._adjustCenter(),this._setupScreen())},setBounds:function(t){void 0!==t&&this.setEngine(this._engine.original().bounds(t))},_setupScreen:function(){var t=this._canvas,e=t.width,n=t.height,o=this._engine,i=o.ar();this._x0=t.left+e/2,this._y0=t.top+n/2;var r,a=[this.project([o.min()[0],0])[0],this.project([0,o.min()[1]])[1]],l=[this.project([o.max()[0],0])[0],this.project([0,o.max()[1]])[1]],s=e/n,h=d(l[0]-a[0])/d(l[1]-a[1]);r=isNaN(h)||0===h||u(s,i)<=i*h&&i*h<=c(s,i)?1:h>1?h:1/h,i*h>=s?(this._xRadius=e/2/r,this._yRadius=e/2/(i*r)):(this._xRadius=n/2*(i/r),this._yRadius=n/2/r),this._fire("screen")},setSize:function(t){this._canvas=t,this._setupScreen()},getCanvas:function(){return this._canvas},_toScreen:function(t){return[this._x0+this._xRadius*t[0],this._y0+this._yRadius*t[1]]},_fromScreen:function(t){return[(t[0]-this._x0)/this._xRadius,(t[1]-this._y0)/this._yRadius]},_toTransformed:function(t){return[t[0]*this._zoom+this._xCenter,t[1]*this._zoom+this._yCenter]},_toTransformedFast:function(t){return[t[0]*this._zoom,t[1]*this._zoom]},_fromTransformed:function(t){return[(t[0]-this._xCenter)/this._zoom,(t[1]-this._yCenter)/this._zoom]},_adjustCenter:function(){var t=this._engine.project(this._center);this._xCenter=-t[0]*this._zoom||0,this._yCenter=-t[1]*this._zoom||0},project:function(t){return this._engine.project(t)},transform:function(t){return this._toScreen(this._toTransformedFast(t))},isInvertible:function(){return this._engine.isInvertible()},getSquareSize:function(t){return[t[0]*this._zoom*this._xRadius,t[1]*this._zoom*this._yRadius]},getZoom:function(){return this._zoom},_changeZoom:function(t){var e=this._zoom,n=this._zoom=S(t,this._minZoom,this._maxZoom,this._minZoom),o=!x(e,n);return o&&(this._adjustCenter(),this._fire("zoom")),o},setZoom:function(t){this._engine.isInvertible()&&this._changeZoom(t)&&this._triggerZoomChanged()},getScaledZoom:function(){return h((this._scale.length-1)*p(this._zoom)/p(this._maxZoom))},setScaledZoom:function(t){this.setZoom(this._scale[h(t)])},changeScaledZoom:function(t){this.setZoom(this._scale[c(u(h(this.getScaledZoom()+t),this._scale.length-1),0)])},getZoomScalePartition:function(){return this._scale.length-1},_setupScaling:function(){var t=c(h(_*p(this._maxZoom)),4),e=m(this._maxZoom,1/t),n=this._minZoom;this._scale=[n];for(var o=1;o<=t;++o)this._scale.push(n*=e)},setMaxZoom:function(t){this._minZoom=g,this._maxZoom=S(t,this._minZoom,s.MAX_VALUE,v),this._setupScaling(),this._zoom>this._maxZoom&&this.setZoom(this._maxZoom),this._fire("max-zoom")},getCenter:function(){return this._center.slice()},setCenter:function(t){this._engine.isInvertible()&&this._changeCenter(t||[])&&this._triggerCenterChanged()},_changeCenter:function(t){var e=this._engine,n=this._center,o=this._center=N(t,e.min(),e.max(),e.center()),i=!C(n,o);return i&&(this._adjustCenter(),this._fire("center")),i},_triggerCenterChanged:function(){this._params.centerChanged(this.getCenter())},_triggerZoomChanged:function(){this._params.zoomChanged(this.getZoom())},setCenterByPoint:function(t,e){var n=this._engine.project(t),o=this._fromScreen(e);this.setCenter(this._engine.unproject([-o[0]/this._zoom+n[0],-o[1]/this._zoom+n[1]]))},beginMoveCenter:function(){this._engine.isInvertible()&&(this._moveCenter=this._center)},endMoveCenter:function(){this._moveCenter&&(C(this._moveCenter,this._center)||this._triggerCenterChanged(),this._moveCenter=null)},moveCenter:function(t){if(this._moveCenter){var e=this.toScreenPoint(this._center);this._changeCenter(this.fromScreenPoint([e[0]+t[0],e[1]+t[1]]))}},getViewport:function(){var t=this._engine.unproject,e=t(this._fromTransformed([-1,-1])),n=t(this._fromTransformed([-1,1])),o=t(this._fromTransformed([1,-1])),i=t(this._fromTransformed([1,1])),r=R([k(e[0],n[0],o[0],i[0]),k(e[1],o[1],n[1],i[1])],[k(o[0],i[0],e[0],n[0]),k(n[1],i[1],e[1],o[1])]);return[].concat(r.min,r.max)},setViewport:function(t){var e=this._engine,n=t?z(e.project,e.unproject,t):[this._minZoom,e.center()];this.setZoom(n[0]),this.setCenter(n[1])},getTransform:function(){return{translateX:this._xCenter*this._xRadius,translateY:this._yCenter*this._yRadius}},fromScreenPoint:function(t){return this._engine.unproject(this._fromTransformed(this._fromScreen(t)))},toScreenPoint:function(t){return this._toScreen(this._toTransformed(this._engine.project(t)))},_eventNames:["engine","screen","center","zoom","max-zoom"]},l(w);var j=class{constructor(t){var e=D(t.to),n=t.from?L(t.from):A(b);this.project=e,this.unproject=n,this.original=A(this),this.source=function(){return(0,i.l)({},t)},this.isInvertible=A(!!t.from),this.ar=A(t.aspectRatio>0?s(t.aspectRatio):1),this.center=I(n([0,0])),T(this,[n([-1,0])[0],n([0,1])[1]],[n([1,0])[0],n([0,-1])[1]])}aspectRatio(t){var e=new j((0,i.l)(this.source(),{aspectRatio:t}));return e.original=this.original,e.min=this.min,e.max=this.max,e}bounds(t){t=t||[];var e=this.source(),n=this.min(),o=this.max(),r=N([t[0],t[1]],n,o,n),a=N([t[2],t[3]],n,o,o),l=e.to(r),s=e.to(a),c=u(d(s[0]-l[0])>f?d(s[0]-l[0]):2,d(s[1]-l[1])>f?d(s[1]-l[1]):2);c<2&&(0,i.l)(e,Z(e.to,e.from,l,s,c));var h=new j(e);return h.original=this.original,T(h,r,a),h}};function B(t){return[t[0],-t[1]]}function D(t){return e=>B(t(e))}function L(t){return e=>t(B(e))}function A(t){return()=>t}function I(t){return()=>t.slice()}function R(t,e){return{min:[u(t[0],e[0]),u(t[1],e[1])],max:[c(t[0],e[0]),c(t[1],e[1])]}}var M=function(t){return t&&t.to?new j(t):null},F={};function Z(t,e,n,o,i){var r=(n[0]+o[0])/2-i/2,a=(n[1]+o[1])/2-i/2,l=2/i;return{to:function(e){var[n,o]=t(e);return[(n-r)*l-1,(o-a)*l-1]},from:function(t){return e([r+(t[0]+1)/l,a+(t[1]+1)/l])}}}M.get=function(t){return F[t]||null},M.add=function(t,e){return e=e instanceof j&&e||M(e),!F[t]&&e&&(F[t]=e),M};n(92087);var P=Math,H=P.min,W=P.max,$=P.round,G=P.floor,K=P.sqrt,Y=(0,o.Kn)(["left","center","right"]),X=(0,o.Kn)(["top","bottom"]),U="command-reset",V="command-move-up",q="command-move-right",J="command-move-down",Q="command-move-left",tt="command-zoom-in",et="command-zoom-out",nt="command-zoom-drag-line",ot="command-zoom-drag",it="control-bar",rt=1,at=2,lt={bigCircleSize:58,smallCircleSize:28,buttonSize:10,arrowButtonOffset:20,incDecButtonSize:11,incButtonOffset:66,decButtonOffset:227,sliderLineStartOffset:88.5,sliderLineEndOffset:205.5,sliderLength:20,sliderWidth:8,trackerGap:4},st=30.5,ut=30.5,ct=61,dt=274,ht={};function pt(t){this._params=t,this._createElements(t.renderer,t.container,t.dataKey),t.layoutControl.addItem(this),this._subscribeToProjection(t.projection),this._subscribeToTracker(t.tracker),this._createCallbacks(t.projection)}function mt(t){delete t._owner,t.update=function(){},t.finish=function(){}}function _t(t,e){this._owner=t,this._command=e}function ft(t,e,n){this._command=e;var o=null,i=0,r=0;switch(this._command){case V:r=-10;break;case q:i=10;break;case J:r=10;break;case Q:i=-10}this._stop=function(){return clearTimeout(o),t._callbacks.endMove(),this._stop=t=null,this},t._callbacks.beginMove(),function e(){t._callbacks.move([i,r]),o=setTimeout(e,100)}()}function gt(t,e){this._owner=t,this._command=e;var n=null,o=this._command===tt?1:-1;this._stop=function(){return clearTimeout(n),this._stop=t=null,this},function e(){t._adjustZoom(t._zoomFactor+o),n=setTimeout(e,150)}()}function vt(t,e,n){this._owner=t,this._zoomFactor=t._zoomFactor,this._pos=n.y}ht[U]=_t,ht[V]=ht[q]=ht[J]=ht[Q]=ft,ht[tt]=ht[et]=gt,ht[ot]=vt,pt.prototype={constructor:pt,_flags:0,dispose:function(){this._params.layoutControl.removeItem(this),this._root.linkRemove().linkOff(),this._offProjection(),this._offTracker(),this._params=this._root=this._offProjection=this._offTracker=this._callbacks=null},_subscribeToProjection:function(t){var e=this;function n(){e._adjustZoom(t.getScaledZoom())}e._offProjection=t.on({engine:function(){e._update()},zoom:n,"max-zoom":function(){e._zoomPartition=t.getZoomScalePartition(),e._sliderUnitLength=e._sliderLineLength/e._zoomPartition,n()}})},_subscribeToTracker:function(t){var e=this,n=!1;e._offTracker=t.on({start:function(t){n=t.data.name===it,n&&e._processStart(t.data.index,t)},move:function(t){n&&e._processMove(t.data.index,t)},end:function(){n&&(e._processEnd(),n=!1)}})},_createCallbacks:function(t){this._callbacks={reset:function(e,n){e&&t.setCenter(null),n&&t.setZoom(null)},beginMove:function(){t.beginMoveCenter()},endMove:function(){t.endMoveCenter()},move:function(e){t.moveCenter(e)},zoom:function(e){t.setScaledZoom(e)}}},_createElements:function(t,e,n){this._root=t.g().attr({class:"dxm-control-bar"}).linkOn(e,"control-bar");var o=this._buttonsGroup=t.g().attr({class:"dxm-control-buttons"}).append(this._root),i=t.g().attr({stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).css({cursor:"pointer"}).append(this._root);this._createButtons(t,n,o),this._createTrackers(t,n,i)},_createButtons:function(t,e,n){var o=lt,i=o.buttonSize/2,r=o.arrowButtonOffset-i,a=o.arrowButtonOffset,l=o.incDecButtonSize/2,s={"stroke-linecap":"square",fill:"none"};t.circle(0,0,o.bigCircleSize/2).append(n),t.circle(0,0,i).attr({fill:"none"}).append(n),t.path([-i,-r,0,-a,i,-r],"line").attr(s).append(n),t.path([r,-i,a,0,r,i],"line").attr(s).append(n),t.path([i,r,0,a,-i,r],"line").attr(s).append(n),t.path([-r,i,-a,0,-r,-i],"line").attr(s).append(n),t.circle(0,o.incButtonOffset,o.smallCircleSize/2).append(n),t.path([[-l,o.incButtonOffset,l,o.incButtonOffset],[0,o.incButtonOffset-l,0,o.incButtonOffset+l]],"area").append(n),t.circle(0,o.decButtonOffset,o.smallCircleSize/2).append(n),t.path([-l,o.decButtonOffset,l,o.decButtonOffset],"area").append(n),this._zoomLine=t.path([],"line").append(n),this._zoomDrag=t.rect(G(-o.sliderLength/2),G(o.sliderLineEndOffset-o.sliderWidth/2),o.sliderLength,o.sliderWidth).append(n),this._sliderLineLength=o.sliderLineEndOffset-o.sliderLineStartOffset},_createTrackers:function(t,e,n){var o=lt,i=$((o.arrowButtonOffset-o.trackerGap)/2),r=o.arrowButtonOffset-i,a=$(K(o.bigCircleSize*o.bigCircleSize/4-i*i)),l=a-r;t.rect(-i,-i,2*i,2*i).data(e,{index:U,name:it}).append(n),t.rect(-i,-a,2*i,l).data(e,{index:V,name:it}).append(n),t.rect(r,-i,l,2*i).data(e,{index:q,name:it}).append(n),t.rect(-i,r,2*i,l).data(e,{index:J,name:it}).append(n),t.rect(-a,-i,l,2*i).data(e,{index:Q,name:it}).append(n),t.circle(0,o.incButtonOffset,o.smallCircleSize/2).data(e,{index:tt,name:it}).append(n),t.circle(0,o.decButtonOffset,o.smallCircleSize/2).data(e,{index:et,name:it}).append(n),t.rect(-2,o.sliderLineStartOffset-2,4,o.sliderLineEndOffset-o.sliderLineStartOffset+4).css({cursor:"default"}).data(e,{index:nt,name:it}).append(n),this._zoomDragTracker=t.rect(-o.sliderLength/2,o.sliderLineEndOffset-o.sliderWidth/2,o.sliderLength,o.sliderWidth).data(e,{index:ot,name:it}).append(n)},resize:function(t){this._isActive&&this._root.attr({visibility:null!==t?null:"hidden"})},getLayoutOptions:function(){return this._isActive?this._layoutOptions:null},locate:function(t,e){this._root.attr({translateX:t+this._margin+st,translateY:e+this._margin+ut})},_update:function(){this._isActive=this._isEnabled&&this._flags&&this._params.projection.isInvertible(),this._isActive?this._root.linkAppend():this._root.linkRemove(),this._processEnd(),this.updateLayout()},setInteraction:function(t){(0,o.It)(t.centeringEnabled,!0)?this._flags|=rt:this._flags&=~rt,(0,o.It)(t.zoomingEnabled,!0)?this._flags|=at:this._flags&=~at,this._update()},setOptions:function(t){this._isEnabled=!!(0,o.It)(t.enabled,!0),this._margin=t.margin||0,this._layoutOptions={width:2*this._margin+ct,height:2*this._margin+dt,horizontalAlignment:Y(t.horizontalAlignment,"left"),verticalAlignment:X(t.verticalAlignment,"top")},this._buttonsGroup.attr({"stroke-width":t.borderWidth,stroke:t.borderColor,fill:t.color,"fill-opacity":t.opacity}),this._update()},_adjustZoom:function(t){var e=lt.sliderLineStartOffset,n=lt.sliderLineEndOffset,o=lt.sliderWidth;this._zoomFactor=W(H($(t),this._zoomPartition),0);var i={translateY:-$(this._zoomFactor*this._sliderUnitLength)},r=n-o/2+i.translateY;this._zoomLine.attr({points:[[0,e,0,W(e,r)],[0,H(n,r+o),0,n]]}),this._zoomDrag.attr(i),this._zoomDragTracker.attr(i)},_applyZoom:function(){this._callbacks.zoom(this._zoomFactor)},_processStart:function(t,e){var n;this._isActive&&(n=ht[t],this._command=n&&n.flags&this._flags?new n(this,t,e):null)},_processMove:function(t,e){this._command&&this._command.update(t,e)},_processEnd:function(){this._command&&this._command.finish(),this._command=null}},_t.flags=rt|at,_t.prototype.update=function(t){t!==this._command&&mt(this)},_t.prototype.finish=function(){var t=this._owner._flags;this._owner._callbacks.reset(!!(t&rt),!!(t&at)),mt(this)},ft.flags=rt,ft.prototype.update=function(t){this._command!==t&&this.finish()},ft.prototype.finish=function(){mt(this._stop())},gt.flags=at,gt.prototype.update=function(t){this._command!==t&&this.finish()},gt.prototype.finish=function(){this._owner._applyZoom(),mt(this._stop())},vt.flags=at,vt.prototype.update=function(t,e){var n=this._owner;n._adjustZoom(this._zoomFactor+n._zoomPartition*(this._pos-e.y)/n._sliderLineLength)},vt.prototype.finish=function(){this._owner._applyZoom(),mt(this)};var bt=Math.log,yt=Math.LN2;function xt(t){this._projection=t.projection,this._renderer=t.renderer,this._x=this._y=0,this._subscribeToTracker(t.tracker)}xt.prototype={constructor:xt,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(t){var e=this,n=!1;e._offTracker=t.on({start:function(t){n="control-bar"!==t.data.name,n&&e._processStart(t)},move:function(t){n&&e._processMove(t)},end:function(){n&&e._processEnd()},zoom:function(t){e._processZoom(t)}})},setInteraction:function(t){this._processEnd(),this._centeringEnabled=t.centeringEnabled,this._zoomingEnabled=t.zoomingEnabled},_processStart:function(t){this._centeringEnabled&&(this._x=t.x,this._y=t.y,this._projection.beginMoveCenter())},_processMove:function(t){this._centeringEnabled&&(this._renderer.root.attr({cursor:"move"}),this._projection.moveCenter([this._x-t.x,this._y-t.y]),this._x=t.x,this._y=t.y)},_processEnd:function(){this._centeringEnabled&&(this._renderer.root.attr({cursor:"default"}),this._projection.endMoveCenter())},_processZoom:function(t){var e,n,o;this._zoomingEnabled&&(t.delta?e=t.delta:t.ratio&&(e=bt(t.ratio)/yt),this._centeringEnabled&&(n=this._renderer.getRootOffset(),n=[t.x-n.left,t.y-n.top],o=this._projection.fromScreenPoint(n)),this._projection.changeScaledZoom(e),this._centeringEnabled&&this._projection.setCenterByPoint(o,n))}};var Ct,St,Nt=n(66487),Ot=n(56901),wt=n(33158),kt=n(84518),Et=n(80752),zt=(0,Ot.jW)(),Tt=Math,jt=Tt.abs,Bt=Tt.sqrt,Dt=Tt.round,Lt=kt.V4,At="dxVectorMap",It="start",Rt="move",Mt="end",Ft="zoom",Zt="hover-on",Pt="hover-off",Ht="click",Wt="focus-on",$t="focus-move",Gt="focus-off",Kt=500,Yt=5,Xt=20,Ut=5,Vt=10,qt=100,Jt=50,Qt=300;function te(t){var e=this;e._root=t.root,e._createEventHandlers(t.dataKey),e._createProjectionHandlers(t.projection),e._initEvents(),e._focus=new St((function(t,n){e._fire(t,n)})),e._attachHandlers()}function ee(t,e,n,o){return Bt((t-n)*(t-n)+(e-o)*(e-o))}function ne(t){var e=t.originalEvent.type,n=t.originalEvent.pointerType;return/^touch/.test(e)||/^MSPointer/.test(e)&&4!==n||/^pointer/.test(e)&&"mouse"!==n}function oe(t,e){for(var n,o=0,i=t.length;o<i;++o)if(t[o]){n=e[o];break}return Lt(n||e[o],At)}function ie(){var t=[zt.pointerEnabled,zt.msPointerEnabled,(0,Ot.l$)("ontouchstart")];Ct={start:oe(t,["pointerdown","MSPointerDown","touchstart mousedown","mousedown"]),move:oe(t,["pointermove","MSPointerMove","touchmove mousemove","mousemove"]),end:oe(t,["pointerup","MSPointerUp","touchend mouseup","mouseup"]),wheel:Lt(Et.u,At)}}function re(t){var e=t.originalEvent,n=e.touches&&e.touches[0]||{};return{x:n.pageX||e.pageX||t.pageX,y:n.pageY||e.pageY||t.pageY}}function ae(t){return t.originalEvent.pointerId}function le(t,e){var n=t.originalEvent;return n=void 0!==n.pointerId?n.pointerId===e?n:null:n.touches[e],n?{x:n.pageX||t.pageX,y:n.pageY||t.pageY}:null}function se(t,e){if(0===t)return 0;var n=jt(t),o=Dt(t/n);return e.dir&&o!==e.dir?0:(e.dir=o,n=n<.1?0:n<1?1:n>4?4:Dt(n),o*n)}function ue(){this._store={}}ie(),te.prototype={constructor:te,dispose:function(){this._detachHandlers(),this._disposeEvents(),this._focus.dispose(),this._root=this._focus=this._docHandlers=this._rootHandlers=null},_eventNames:[It,Rt,Mt,Ft,Ht,Zt,Pt,Wt,Gt,$t],_startClick:function(t,e){if(e){var n=re(t);this._clickState={x:n.x,y:n.y,threshold:ne(t)?Xt:Yt,time:Date.now()}}},_endClick:function(t,e){var n,o,i=this._clickState;i&&(e&&Date.now()-i.time<=Kt&&(n=i.threshold,o=re(t),jt(o.x-i.x)<=n&&jt(o.y-i.y)<=n&&this._fire(Ht,{data:e,x:o.x,y:o.y,$event:t})),this._clickState=null)},_startDrag:function(t,e){if(e){var n=re(t),o=this._dragState={x:n.x,y:n.y,data:e};this._fire(It,{x:o.x,y:o.y,data:o.data})}},_moveDrag:function(t,e){var n=this._dragState;if(n){var o=re(t),i=ne(t)?Vt:Ut;(n.active||jt(o.x-n.x)>i||jt(o.y-n.y)>i)&&(n.x=o.x,n.y=o.y,n.active=!0,n.data=e||{},this._fire(Rt,{x:n.x,y:n.y,data:n.data}))}},_endDrag:function(){var t=this._dragState;t&&(this._dragState=null,this._fire(Mt,{x:t.x,y:t.y,data:t.data}))},_wheelZoom:function(t,e){if(e){var n=this._wheelLock,o=Date.now();if(!(o-n.time<=Jt)){o-n.dirTime>Qt&&(n.dir=0);var i=se(t.delta/120||0,n);if(0!==i){var r=re(t);this._fire(Ft,{delta:i,x:r.x,y:r.y}),n.time=n.dirTime=o}}}},_startZoom:function(t,e){if(ne(t)&&e){var n,o,i=this._zoomState=this._zoomState||{};i.pointer1&&i.pointer2||(void 0===i.pointer1&&(i.pointer1=ae(t)||0,n=le(t,i.pointer1),i.x1=i.x1_0=n.x,i.y1=i.y1_0=n.y),void 0===i.pointer2&&(o=ae(t)||1,o!==i.pointer1&&(n=le(t,o),n&&(i.x2=i.x2_0=n.x,i.y2=i.y2_0=n.y,i.pointer2=o,i.ready=!0,this._endDrag()))))}},_moveZoom:function(t){var e,n=this._zoomState;n&&ne(t)&&(void 0!==n.pointer1&&(e=le(t,n.pointer1),e&&(n.x1=e.x,n.y1=e.y)),void 0!==n.pointer2&&(e=le(t,n.pointer2),e&&(n.x2=e.x,n.y2=e.y)))},_endZoom:function(t){var e,n,o=this._zoomState;o&&ne(t)&&(o.ready&&(e=ee(o.x1_0,o.y1_0,o.x2_0,o.y2_0),n=ee(o.x1,o.y1,o.x2,o.y2),this._fire(Ft,{ratio:n/e,x:(o.x1_0+o.x2_0)/2,y:(o.y1_0+o.y2_0)/2})),this._zoomState=null)},_startHover:function(t,e){this._doHover(t,e,!0)},_moveHover:function(t,e){this._doHover(t,e,!1)},_doHover:function(t,e,n){this._dragState&&this._dragState.active||this._zoomState&&this._zoomState.ready?this._cancelHover():ne(t)!==n||this._hoverTarget===t.target||this._hoverState&&this._hoverState.data===e||(this._cancelHover(),e&&(this._hoverState={data:e},this._fire(Zt,{data:e})),this._hoverTarget=t.target)},_cancelHover:function(){var t=this._hoverState;this._hoverState=this._hoverTarget=null,t&&this._fire(Pt,{data:t.data})},_startFocus:function(t,e){this._doFocus(t,e,!0)},_moveFocus:function(t,e){this._doFocus(t,e,!1)},_doFocus:function(t,e,n){this._dragState&&this._dragState.active||this._zoomState&&this._zoomState.ready?this._cancelFocus():ne(t)===n&&(this._focus.turnOff(),e&&this._focus.turnOn(e,re(t)))},_cancelFocus:function(){this._focus.cancel()},_createEventHandlers:function(t){var e=this;function n(e){var n=e.target;return("tspan"===n.tagName?n.parentNode:n)[t]}e._docHandlers={},e._rootHandlers={},e._rootHandlers[Ct.start]=e._docHandlers[Ct.start]=function(t){var o=ne(t),i=n(t);o&&!e._isTouchEnabled||(i&&(t.preventDefault(),t.stopPropagation()),e._startClick(t,i),e._startDrag(t,i),e._startZoom(t,i),e._startHover(t,i),e._startFocus(t,i))},e._docHandlers[Ct.move]=function(t){var o=ne(t),i=n(t);o&&!e._isTouchEnabled||(e._moveDrag(t,i),e._moveZoom(t,i),e._moveHover(t,i),e._moveFocus(t,i))},e._docHandlers[Ct.end]=function(t){var o=ne(t),i=n(t);o&&!e._isTouchEnabled||(e._endClick(t,i),e._endDrag(t,i),e._endZoom(t,i))},e._rootHandlers[Ct.wheel]=function(t){if(e._cancelFocus(),e._isWheelEnabled){var o=n(t);o&&(t.preventDefault(),t.stopPropagation(),e._wheelZoom(t,o))}},e._wheelLock={dir:0}},_createProjectionHandlers:function(t){var e=this;function n(){e._cancelFocus()}t.on({center:n,zoom:n})},reset:function(){this._clickState=null,this._endDrag(),this._cancelHover(),this._cancelFocus()},setOptions:function(t){this.reset(),this._detachHandlers(),this._isTouchEnabled=!!(0,o.It)(t.touchEnabled,!0),this._isWheelEnabled=!!(0,o.It)(t.wheelEnabled,!0),this._attachHandlers()},_detachHandlers:function(){this._isTouchEnabled&&this._root.css({"touch-action":"","-webkit-user-select":""}).off(Lt("MSHoldVisual",At)).off(Lt("contextmenu",At)),Nt.Z.off(wt["default"].getDocument(),this._docHandlers),this._root.off(this._rootHandlers)},_attachHandlers:function(){this._isTouchEnabled&&this._root.css({"touch-action":"none","-webkit-user-select":"none"}).on(Lt("MSHoldVisual",At),(function(t){t.preventDefault()})).on(Lt("contextmenu",At),(function(t){ne(t)&&t.preventDefault()})),Nt.Z.on(wt["default"].getDocument(),this._docHandlers),this._root.on(this._rootHandlers)}},St=function(t){var e,n,o=this,i=null,r=null,a=!1,l=null;o.dispose=function(){clearTimeout(l),o.turnOn=o.turnOff=o.cancel=o.dispose=o=t=i=r=l=null},o.turnOn=function(o,s){function u(t){a=!t,t&&(i=r,clearTimeout(l),l=null)}o===r&&a||(a=!1,r=o,i?(e=s.x,n=s.y,r===i?(t($t,{data:r,x:e,y:n}),u(!0)):t(Wt,{data:r,x:e,y:n,done:u})):(e=s.x,n=s.y,t(Wt,{data:r,x:e,y:n,done:u})))},o.turnOff=function(){r=null,i&&!a&&(l=l||setTimeout((function(){l=null,t(Gt,{data:i}),i=null}),qt))},o.cancel=function(){clearTimeout(l),i&&t(Gt,{data:i}),i=r=l=null}},l(te),ue.prototype={constructor:ue,dispose:function(){return this._store=null,this},_get:function(t,e){var n=this._store[t]||(this._store[t]={});return n[e]||(n[e]={callbacks:(0,r["default"])()})},set:function(t,e,n){var o=this._get(t,e);return o.data=n,o.callbacks.fire(n),this},bind:function(t,e,n){var o=this._get(t,e);return o.callbacks.add(n),o.data&&n(o.data),this},unbind:function(t,e,n){var o=this._get(t,e);return o.callbacks.remove(n),this}};var ce=n(12145),de=n(92438),he=n(97294),pe=i.l,me=ce.S6,_e={category:"UNKNOWN",name:"UNKNOWN"};function fe(t,e,n){var o,i,r=e.length,a=[];for(o=0;o<r;++o)a[o]=i={start:t[o],end:t[o+1],index:o},i[n]=e[o],i.states={normal:{fill:i.color}},i.visible=!0;return a}var ge=function(t){var e=this;e._params=t,e._root=t.renderer.g().attr({class:"dxm-legend"}).linkOn(t.container,{name:"legend",after:"legend-base"}).enableLinks().linkAppend(),t.layoutControl.addItem(e),he.D.call(e,{renderer:t.renderer,widget:t.widget,group:e._root,backgroundClass:null,itemsGroupClass:null,textField:"text",getFormatObject:function(t){return t}}),e._onDataChanged=function(t){e._updateData(t)}};function ve(t){this._params=t,this._items=[],t.container.virtualLink("legend-base")}ge.prototype=pe((0,de.d9)(he.D.prototype),{constructor:ge,dispose:function(){var t=this;return t._params.layoutControl.removeItem(t),t._unbindData(),t._root.linkRemove().linkOff(),t._params=t._root=t._onDataChanged=null,he.D.prototype.dispose.apply(t,arguments)},resize:function(t){this._params.notifyDirty(),null===t?this.erase():this.draw(t.width,t.height),this._params.notifyReady()},locate:he.D.prototype.shift,_updateData:function(t){this._options.defaultColor=t&&t.defaultColor,this.update(t?fe(t.partition,t.values,this._dataName):[],this._options,this._params.themeManager.theme("legend").title),this.updateLayout()},_unbindData:function(){this._dataCategory&&this._params.dataExchanger.unbind(this._dataCategory,this._dataName,this._onDataChanged)},_bindData:function(t){this._params.dataExchanger.bind(this._dataCategory=t.category,this._dataName=t.name,this._onDataChanged)},setOptions:function(t){this.update(this._data,t,this._params.themeManager.theme("legend").title),this._unbindData();var e=t.source;return this._bindData(e?{category:e.layer,name:e.grouping}:_e),this.updateLayout(),this}}),ve.prototype={constructor:ve,dispose:function(){me(this._items,(function(t,e){e.dispose()})),this._params=this._items=null},setOptions:function(t){var e,n=t&&t.length?t:[],o=this._items,i=n.length,r=this._params,a=r.themeManager.theme("legend");for(e=o.length;e<i;++e)o[e]=new ge(r);for(e=o.length-1;e>=i;--e)o[e].dispose(),o.splice(e,1);for(r.layoutControl.suspend(),e=0;e<i;++e)o[e].setOptions(pe(!0,{},a,n[e]));r.layoutControl.resume()}};var be=Math.round,ye=Math.min,xe=Math.max,Ce=ce.S6,Se={left:0,center:1,right:2},Ne={top:0,bottom:1};function Oe(t){return 3*Ne[t.verticalAlignment]+Se[t.horizontalAlignment]}function we(t,e){var n=(t.right-t.left)/3,o=(t.bottom-t.top)/2,i=t.left,r=be(i+n),a=be(i+n+n),l=t.right,s=t.top,u=be(s+o),c=t.bottom,d=[{rect:[i,s,r,u]},{rect:[r,s,a,u],center:!0},{rect:[a,s,l,u],horInversion:!0},{rect:[i,u,r,c],verInversion:!0},{rect:[r,u,a,c],center:!0,verInversion:!0},{rect:[a,u,l,c],horInversion:!0,verInversion:!0}],h=[[],[],[],[],[],[]];return Ce(e,(function(t,e){var n=e.getLayoutOptions();n&&h[Oe(n)].push({item:e,width:n.width,height:n.height})})),Ce(d,(function(t,e){h[t].length?e.items=h[t]:(e.center?e.rect[0]=e.rect[2]=(e.rect[0]+e.rect[2])/2:e.rect[e.horInversion?0:2]=e.rect[e.horInversion?2:0],e.rect[e.verInversion?1:3]=e.rect[e.verInversion?3:1])})),d}function ke(t){Ce([0,1,2,3,4,5],(function(e,n){var o=t[n],i=t[(n+3)%6];o.items&&(i.items||(o.rect[1]=ye(o.rect[1],i.rect[3]),o.rect[3]=xe(o.rect[3],i.rect[1])))})),Ce([1,4],(function(e,n){var o,i,r=t[n],a=t[n-1],l=t[n+1];r.items?a.items||l.items||(o=r.rect[0]-a.rect[2],i=l.rect[0]-r.rect[2],o>i?o/i>=2?(r.rect[0]-=o,r.right=!0):(r.rect[0]-=i,r.rect[2]+=i):i/o>=2?(r.rect[2]+=i,r.center=null):(r.rect[0]-=o,r.rect[2]+=o)):(a.items&&(a.rect[2]=(r.rect[0]+r.rect[2])/2),l.items&&(l.rect[0]=(r.rect[0]+r.rect[2])/2))}))}function Ee(t,e){var n=!1;return ke(t),Ce(t,(function(t,o){o.items&&(n=ze(o,e)||n)})),n}function ze(t,e){var n=t.rect,o=n[2]-n[0],i=n[3]-n[1],r=0,a=0,l=0,s=n[2],u=n[3],c=n[0],d=n[1],h=[],p=!1;return Ce(t.items,(function(m,_){if(_.width>o||_.height>i)return h.push(null),p=!0,e||!1;if(r+_.width>o&&(a+=l,r=l=0),a+_.height>i)return h.push(null),p=!0,e||!1;l=xe(l,_.height);var f=t.horInversion?n[2]-_.width-r:n[0]+r,g=t.verInversion?n[3]-_.height-a:n[1]+a;r+=_.width,s=ye(s,f),u=ye(u,g),c=xe(c,f+_.width),d=xe(d,g+_.height),h.push([f,g])})),!e&&p||(r=0,t.right?r=n[2]-n[0]-c+s:t.center&&(r=be((n[2]-n[0]-c+s)/2)),Ce(t.items,(function(t,e){var n=h[t];n?e.item.locate(n[0]+r,n[1]):e.item.resize(null)})),t.rect=[s,u,c,d],t.items=null),p}function Te(t,e){var n=we(t,e);Ee(n)&&Ee(n,!0)}function je(t){var e=this;e._items=[],e._suspended=0,e._widget=t,e._updateLayout=function(){e._update()}}je.prototype={constructor:je,dispose:function(){this._items=this._updateLayout=null},setSize:function(t){this._canvas=t,this._update()},suspend:function(){++this._suspended},resume:function(){0===--this._suspended&&this._update()},addItem:function(t){this._items.push(t),t.updateLayout=this._updateLayout},removeItem:function(t){var e=this._items.indexOf(t);this._items.splice(e,1),t.updateLayout=null},_update:function(){var t;0===this._suspended&&(t=this._canvas,Ce(this._items,(function(e,n){n.resize(t)})),this._widget.resolveItemsDeferred(this._items.filter((t=>t.getTemplatesGroups&&t.getTemplatesDef))),Te({left:t.left,top:t.top,right:t.width+t.left,bottom:t.height+t.top},this._items))}};var Be=n(84392),De=n(75857),Le=n(9783),Ae=n(42061),Ie=Be.ZT,Re=i.l,Me=ce.S6,Fe=Array.prototype.concat,Ze="area",Pe="line",He="marker",We=0,$e=1,Ge=2,Ke=[0,1,2,2],Ye=1,Xe={none:null,single:-1,multiple:NaN},Ue=Array.isArray,Ve=Number,qe=String,Je=Math.abs,Qe=Math.round,tn=Math.min,en=Math.max,nn=Math.sqrt;function on(t){return t.reduce(((t,e)=>e?[tn(t[0],e[0]),tn(t[1],e[1]),en(t[2],e[2]),en(t[3],e[3])]:t),t[0])}function rn(t){var e=(0,o.ps)(t);return e=e in Xe?Xe[e]:Xe.single,null!==e&&(e={state:{},single:e}),e}function an(t,e){return(t[e]||{}).name}function ln(){}function sn(t){this.raw=t}function un(t){this.raw=t}function cn(t){return Ue(t.features)}function dn(t){var e;return t&&(cn(t)?e=un:1===t.length&&t[0]&&cn(t[0])?(e=un,t=t[0]):Ue(t)&&(e=sn)),e=e||ln,new e(t)}function hn(t){return t?cn(t)?[t]:t:[]}function pn(t,e,n){e.call(n,t)}function mn(t){t.text.attr({visibility:t.size[0]/t.spaceSize[0]<Ye&&t.size[1]/t.spaceSize[1]<Ye?null:"hidden"})}function _n(t){t.text.attr({visibility:t.size[0]/t.spaceSize[0]<Ye||t.size[1]/t.spaceSize[1]<Ye?null:"hidden"})}function fn(t,e){return t.attribute(e)}ln.prototype.count=function(){return 0},sn.prototype={constructor:sn,count:function(){return this.raw.length},item:function(t){return this.raw[t]},geometry:function(t){return{coordinates:t.coordinates}},attributes:function(t){return t.attributes},getBBox:function(t){return 0===arguments.length?void 0:this.raw[t].bbox}},un.prototype={constructor:un,count:function(){return this.raw.features.length},item:function(t){return this.raw.features[t]},geometry:function(t){return t.geometry},attributes:function(t){return t.properties},getBBox:function(t){return 0===arguments.length?this.raw.bbox:this.raw.features[t].bbox}};var gn={Point:He,MultiPoint:Pe,LineString:Pe,MultiLineString:Pe,Polygon:Ze,MultiPolygon:Ze};function vn(t,e){return void 0!==t?t:e}function bn(t){var e=gn[t.type],n=t.coordinates;return e||(e="number"===typeof n[0]?He:"number"===typeof n[0][0]?Pe:Ze),e}var yn,xn,Cn={setup:Ie,reset:Ie,arrange:Ie,updateGrouping:Ie,getDefaultColor:Ie},Sn={},Nn={},On={},wn=function(t,e){var n,i=(0,o.ps)(t.type),r=(0,o.ps)(t.elementType),a=Re({},Cn);return e.count()>0&&(n=e.geometry(e.item(0)),i=Sn[i]?i:bn(n),Re(a,Sn[i]),a.fullType=a.type=i,Nn[i]&&Re(a,Nn[i](n)),On[i]&&(r=On[i][r]?r:On[i]._default,Re(a,On[i][r]),a.elementType=r,a.fullType+=":"+r)),a};function kn(t,e,n,o){t[o].attr(e[o][n])}function En(t,e){return t.project(e)}function zn(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=t.project(e[n]);return o}function Tn(t,e){return[zn(t,e)]}function jn(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=zn(t,e[n]);return o}function Bn(t,e){var n,o=[],i=o.length=e.length;for(n=0;n<i;++n)o[n]=jn(t,e[n]);return Fe.apply([],o)}function Dn(t,e,n){var o=e.transform(n);t.root.attr({translateX:o[0],translateY:o[1]})}function Ln(t,e){var n,o,i=[],r=e.length,a=0;for(i.length=2*r,n=0;n<r;++n)o=t.transform(e[n]),i[a++]=o[0],i[a++]=o[1];return i}function An(t,e,n){var o,i=[],r=i.length=n.length;for(o=0;o<r;++o)i[o]=Ln(e,n[o]);t.root.attr({points:i})}function In(t,e,n){var o=e.transform(n[0]);t.spaceSize=e.getSquareSize(n[1]),t.text.attr({translateX:o[0],translateY:o[1]}),mn(t)}function Rn(t,e,n){var o=e.transform(n[0]);t.spaceSize=e.getSquareSize(n[1]),t.text.attr({translateX:o[0],translateY:o[1]}),_n(t)}function Mn(t,e,n){var o=Hn(t.settings,n);return Fn(t.grouping,e,o),void 0===n.color&&n.paletteIndex>=0&&(o.color=o._colors[n.paletteIndex]),o}function Fn(t,e,n){Me(t,(function(t,o){var i=Zn(o.callback(e,o.field),o.partition);i>=0&&(n[t]=o.values[i])}))}function Zn(t,e){var n,o=0,i=e.length-1,r=-1;if(e[o]<=t&&t<=e[i])if(t===e[i])r=i-1;else{while(i-o>1)n=o+i>>1,t<e[n]?i=n:o=n;r=o}return r}function Pn(t,e,n,o){t.params.eventTrigger(o,{target:e.proxy,state:n})}function Hn(t,e){var n=Re({},t,e);return n.label=Re({},t.label,n.label),n.label.font=Re({},t.label.font,n.label.font),n}function Wn(t,e){var n,o,i,r=t.params.themeManager,a=t.str,l=Hn(Re({label:{},color:a.getDefaultColor(t,e.palette)},r.theme("layer:"+a.fullType)),e);if(l.paletteSize>0){for(i=r.createDiscretePalette(l.palette,l.paletteSize),o=0,n=[];o<l.paletteSize;++o)n.push(i.getColor(o));l._colors=n}return l}function $n(t,e){return t.attribute(e)}Sn[Ze]={projectLabel:eo,transform:An,transformLabel:In,draw:function(t,e,n){e.root=t.renderer.path([],"area").data(t.dataKey,n)},refresh:Ie,getLabelOffset:function(t){return mn(t),[0,0]},getStyles:function(t){var e=t.color||null,n=t.borderColor||null,o=vn(t.borderWidth,null),i=vn(t.opacity,null);return{root:[{class:"dxm-area",stroke:n,"stroke-width":o,fill:e,opacity:i},{class:"dxm-area dxm-area-hovered",stroke:t.hoveredBorderColor||n,"stroke-width":vn(t.hoveredBorderWidth,o),fill:t.hoveredColor||e,opacity:vn(t.hoveredOpacity,i)},{class:"dxm-area dxm-area-selected",stroke:t.selectedBorderColor||n,"stroke-width":vn(t.selectedBorderWidth,o),fill:t.selectedColor||e,opacity:vn(t.selectedOpacity,i)}]}},setState:function(t,e,n){kn(t,e,n,"root")},hasLabelsGroup:!0,updateGrouping:function(t){yn(t)},getDefaultColor:Ie},Sn[Pe]={projectLabel:no,transform:An,transformLabel:Rn,draw:function(t,e,n){e.root=t.renderer.path([],"line").data(t.dataKey,n)},refresh:Ie,getLabelOffset:function(t){return _n(t),[0,0]},getStyles:function(t){var e=t.color||t.borderColor||null,n=vn(t.borderWidth,null),o=vn(t.opacity,null);return{root:[{class:"dxm-line",stroke:e,"stroke-width":n,opacity:o},{class:"dxm-line dxm-line-hovered",stroke:t.hoveredColor||t.hoveredBorderColor||e,"stroke-width":vn(t.hoveredBorderWidth,n),opacity:vn(t.hoveredOpacity,o)},{class:"dxm-line dxm-line-selected",stroke:t.selectedColor||t.selectedBorderColor||e,"stroke-width":vn(t.selectedBorderWidth,n),opacity:vn(t.selectedOpacity,o)}]}},setState:function(t,e,n){kn(t,e,n,"root")},hasLabelsGroup:!0,updateGrouping:function(t){yn(t)},getDefaultColor:Ie},Sn[He]={project:En,transform:Dn,draw:function(t,e,n){e.root=t.renderer.g(),this._draw(t,e,n)},refresh:Ie,hasLabelsGroup:!1,getLabelOffset:function(t,e){return[Qe((t.size[0]+en(e.size||0,0))/2)+2,0]},getStyles:function(t){var e={root:[{class:"dxm-marker"},{class:"dxm-marker dxm-marker-hovered"},{class:"dxm-marker dxm-marker-selected"}]};return this._getStyles(e,t),e},setState:function(t,e,n){kn(t,e,n,"root"),this._setState(t,e,n)},updateGrouping:function(t){yn(t),xn(t)},getDefaultColor:function(t,e){return t.params.themeManager.getAccentColor(e)}},Nn[Ze]=function(t){return{project:(t,e)=>e[0]&&e[0][0]&&e[0][0][0]&&"number"===typeof e[0][0][0][0]?Bn(t,e):jn(t,e)}},Nn[Pe]=function(t){var e=t.coordinates;return{project:e[0]&&e[0][0]&&"number"===typeof e[0][0][0]?jn:Tn}},On[He]={_default:"dot",dot:{setup:function(t){t.filter=t.renderer.shadowFilter("-40%","-40%","180%","200%",0,1,1,"#000000",.2)},reset:function(t){t.filter.dispose(),t.filter=null},_draw:function(t,e,n){e.back=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root),e.dot=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){e.dot.attr({filter:i.shadow?t.filter.id:null})},_getStyles:function(t,e){var n=e.size>0?Ve(e.size):0,o=n,i=n+(e.selectedStep>0?Ve(e.selectedStep):0),r=o+(e.backStep>0?Ve(e.backStep):0),a=i+(e.backStep>0?Ve(e.backStep):0),l=e.color||null,s=e.borderColor||null,u=vn(e.borderWidth,null),c=vn(e.opacity,null),d=e.backColor||null,h=vn(e.backOpacity,null);t.dot=[{r:n/2,stroke:s,"stroke-width":u,fill:l,opacity:c},{r:o/2,stroke:e.hoveredBorderColor||s,"stroke-width":vn(e.hoveredBorderWidth,u),fill:e.hoveredColor||l,opacity:vn(e.hoveredOpacity,c)},{r:i/2,stroke:e.selectedBorderColor||s,"stroke-width":vn(e.selectedBorderWidth,u),fill:e.selectedColor||l,opacity:vn(e.selectedOpacity,c)}],t.back=[{r:n/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:r/2,stroke:"none","stroke-width":0,fill:d,opacity:h},{r:a/2,stroke:"none","stroke-width":0,fill:d,opacity:h}]},_setState:function(t,e,n){kn(t,e,n,"dot"),kn(t,e,n,"back")}},bubble:{_draw:function(t,e,n){e.bubble=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){e.bubble.attr({r:i.size/2})},_getStyles:function(t,e){var n=e.color||null,o=e.borderColor||null,i=vn(e.borderWidth,null),r=vn(e.opacity,null);t.bubble=[{stroke:o,"stroke-width":i,fill:n,opacity:r},{stroke:e.hoveredBorderColor||o,"stroke-width":vn(e.hoveredBorderWidth,i),fill:e.hoveredColor||e.color,opacity:vn(e.hoveredOpacity,r)},{stroke:e.selectedBorderColor||o,"stroke-width":vn(e.selectedBorderWidth,i),fill:e.selectedColor||e.color,opacity:vn(e.selectedOpacity,r)}]},_setState:function(t,e,n){kn(t,e,n,"bubble")},arrange:function(t,e){var n,o=[],i=o.length=e.length,r=t.settings,a=r.dataField,l=r.minSize>0?Ve(r.minSize):0,s=r.maxSize>l?Ve(r.maxSize):l;if(!r.sizeGroups){for(n=0;n<i;++n)o[n]=en(fn(e[n].proxy,a)||0,0);var u=tn.apply(null,o),c=en.apply(null,o),d=c-u||1,h=s-l;for(n=0;n<i;++n)e[n]._settings.size=l+h*(o[n]-u)/d}},updateGrouping:function(t){var e=t.settings.dataField;Sn[He].updateGrouping(t),xn(t,(function(t){return fn(t,e)}))}},pie:{_draw:function(t,e,n){e.pie=t.renderer.g().append(e.root),e.border=t.renderer.circle().sharp().data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o,i){var r=fn(o,t.settings.dataField)||[],a=i._colors,l=0,s=e.pie,u=t.renderer,c=t.dataKey,d=(i.size>0?Ve(i.size):0)/2,h=90,p=h,m=!1;l=r.reduce((function(t,e){return t+(e||0)}),0),0===l&&(m=!0,l=360/r.length),r.forEach((function(t,e){h=p,p+=m?l:(t||0)/l*360,u.arc(0,0,0,d,h,p).attr({"stroke-linejoin":"round",fill:a[e]}).data(c,n).append(s)})),e.border.attr({r:d})},_getStyles:function(t,e){var n=vn(e.opacity,null),o=e.borderColor||null,i=vn(e.borderWidth,null);t.pie=[{opacity:n},{opacity:vn(e.hoveredOpacity,n)},{opacity:vn(e.selectedOpacity,n)}],t.border=[{stroke:o,"stroke-width":i},{stroke:e.hoveredBorderColor||o,"stroke-width":vn(e.hoveredBorderWidth,i)},{stroke:e.selectedBorderColor||o,"stroke-width":vn(e.selectedBorderWidth,i)}]},_setState:function(t,e,n){kn(t,e,n,"pie"),kn(t,e,n,"border")},arrange:function(t,e){var n,o,i,r=e.length,a=t.settings.dataField,l=0;for(n=0;n<r;++n)o=fn(e[n].proxy,a),o&&o.length>l&&(l=o.length);l>0&&(i=t.params.themeManager.createPalette(t.settings.palette,{useHighlight:!0,extensionMode:"alternate"}),o=i.generateColors(l),t.settings._colors=o,t.grouping.color={callback:Ie,field:"",partition:[],values:[]},t.params.dataExchanger.set(t.name,"color",{partition:[],values:o}))}},image:{_draw:function(t,e,n){e.image=t.renderer.image(null,null,null,null,null,"center").attr({"pointer-events":"visible"}).data(t.dataKey,n).append(e.root)},refresh:function(t,e,n,o){e.image.attr({href:fn(o,t.settings.dataField)})},_getStyles:function(t,e){var n=e.size>0?Ve(e.size):0,o=n+(e.hoveredStep>0?Ve(e.hoveredStep):0),i=n+(e.selectedStep>0?Ve(e.selectedStep):0),r=vn(e.opacity,null);t.image=[{x:-n/2,y:-n/2,width:n,height:n,opacity:r},{x:-o/2,y:-o/2,width:o,height:o,opacity:vn(e.hoveredOpacity,r)},{x:-i/2,y:-i/2,width:i,height:i,opacity:vn(e.selectedOpacity,r)}]},_setState:function(t,e,n){kn(t,e,n,"image")}}};var Gn,Kn=function(t,e,n,o,i){var r;o&&e&&e.length>1&&(r=i(e.length-1),t.grouping[n]={callback:(0,Le.mf)(o)?o:$n,field:o,partition:e,values:r},t.params.dataExchanger.set(t.name,n,{partition:e,values:r,defaultColor:t.settings.color}))};function Yn(t){var e=t.name,n=t.params.dataExchanger;Me(t.grouping,(function(t){n.set(e,t,null)})),t.grouping={}}function Xn(t,e,n){return n?t|=e:t&=~e,t}function Un(t,e){return!!(t&e)}function Vn(t,e,n){var o={index:n,name:e,getElements:function(){return t.getProxies()},clearSelection:function(e){return t.clearSelection(e),o},getDataSource:function(){return t.getDataSource()},getBounds:()=>t.getBounds()};return o}yn=function(t){Kn(t,t.settings.colorGroups,"color",t.settings.colorGroupingField,(function(e){var n,o=t.params.themeManager.createDiscretePalette(t.settings.palette,e),i=[];for(n=0;n<e;++n)i.push(o.getColor(n));return i}))},xn=function(t,e){var n=t.settings;Kn(t,n.sizeGroups,"size",e||n.sizeGroupingField,(function(t){var e=n.minSize>0?Ve(n.minSize):0,o=n.maxSize>=e?Ve(n.maxSize):0,i=0,r=[];if(t>1)for(i=0;i<t;++i)r.push((e*(t-i-1)+o*i)/(t-1));else 1===t&&r.push((e+o)/2);return r}))};var qn=function(t,e,n,o){this._params=t,this._onProjection(),this.proxy=Vn(this,n,o),this._context={name:n,layer:this.proxy,renderer:t.renderer,projection:t.projection,params:t,dataKey:t.dataKey,str:Cn,hover:!1,selection:null,grouping:{},root:t.renderer.g().attr({class:"dxm-layer"}).linkOn(e,n).linkAppend()},this._container=e,this._options={},this._handles=[],this._data=new ln,this._dataSourceLoaded=null};function Jn(t,e,n){var o={coordinates:function(){return e},attribute:function(t,e){return arguments.length>1?(n[t]=e,o):arguments.length>0?n[t]:n},selected:function(e,n){return arguments.length>0?(t.setSelected(e,n),o):t.isSelected()},applySettings:function(e){return t.update(e),o}};return o}function Qn(t){var e,n,o,i=t.length,r=t[i-1],a=0,l=0,s=0,u=1/0,c=-1/0,d=1/0,h=-1/0;for(e=0;e<i;++e)n=r,r=t[e],o=n[0]*r[1]-r[0]*n[1],s+=o,a+=(n[0]+r[0])*o,l+=(n[1]+r[1])*o,u=tn(u,r[0]),c=en(c,r[0]),d=tn(d,r[1]),h=en(h,r[1]);return{area:Je(s)/2,center:[2*a/3/s-(u+c)/2,2*l/3/s-(d+h)/2]}}function to(t){var e,n,o=t.length,i=t[0]||[],r=0,a=[0],l=i[0],s=i[0],u=i[1],c=i[1];for(e=1;e<o;++e)n=i,i=t[e],r+=nn((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1])),a[e]=r,l=tn(l,i[0]),s=en(s,i[0]),u=tn(u,i[1]),c=en(c,i[1]);e=Zn(r/2,a),n=t[e],i=t[e+1];var d=(r/2-a[e])/(a[e+1]-a[e]);return o?[[n[0]*(1-d)+i[0]*d,n[1]*(1-d)+i[1]*d],[s-l,c-u],r]:[]}function eo(t){var e,n,o,i=t.length,r=0;for(e=0;e<i;++e)n=Qn(t[e]),n.area>r&&(r=n.area,o=n);return o?[o.center,[nn(o.area),nn(o.area)]]:[[],[]]}function no(t){var e,n,o,i=t.length,r=0;for(e=0;e<i;++e)n=to(t[e]),n[2]>r&&(r=n[2],o=n);return o||[[],[]]}function oo(t){var e=t.renderer;this._params=t,this._layers=[],this._layerByName={},this._rect=[0,0,0,0],this._clip=e.clipRect(),this._background=e.rect().attr({class:"dxm-background"}).data(t.dataKey,{name:"background"}).append(e.root),this._container=e.g().attr({class:"dxm-layers","clip-path":this._clip.id}).append(e.root).enableLinks(),this._subscribeToTracker(t.tracker,e,t.eventTrigger),this._dataReady=t.dataReady}qn.prototype=Re({constructor:qn,getDataReadyCallback(){return this._dataSourceLoaded},_onProjection:function(){var t=this;t._removeHandlers=t._params.projection.on({engine:function(){t._project()},screen:function(){t._transform()},center:function(){t._transformCore()},zoom:function(){t._transform()}})},getData(){return this._data},_dataSourceLoadErrorHandler:function(){this._dataSourceChangedHandler()},_dataSourceChangedHandler:function(){this._data=dn(this._dataSource&&this._dataSource.items()),this._update(!0)},_dataSourceOptions:function(){return{paginate:!1}},_getSpecificDataSourceOption:function(){return this._specificDataSourceOption},_normalizeDataSource:function(t){var e=t.store();return"raw"===e._loadMode&&(e._loadMode=void 0),t},_offProjection:function(){this._removeHandlers(),this._removeHandlers=null},dispose:function(){return this._disposeDataSource(),this._destroyHandles(),Yn(this._context),this._context.root.linkRemove().linkOff(),this._context.labelRoot&&this._context.labelRoot.linkRemove().linkOff(),this._context.str.reset(this._context),this._offProjection(),this._params=this._container=this._context=this.proxy=null,this},setOptions:function(t){t=this._options=t||{},this._dataSourceLoaded=new Ae.BH,"dataSource"in t&&t.dataSource!==this._options_dataSource?(this._options_dataSource=t.dataSource,this._params.notifyDirty(),this._specificDataSourceOption=hn(t.dataSource),this._refreshDataSource()):this._data.count()>0&&(this._params.notifyDirty(),this._update(void 0!==t.type&&t.type!==this._context.str.type||void 0!==t.elementType&&t.elementType!==this._context.str.elementType)),this._transformCore()},_update:function(t){var e=this._context;t&&(e.str.reset(e),e.root.clear(),e.labelRoot&&e.labelRoot.clear(),this._params.tracker.reset(),this._destroyHandles(),e.str=wn(this._options,this._data),e.str.setup(e),this.proxy.type=e.str.type,this.proxy.elementType=e.str.elementType),e.settings=Wn(e,this._options),e.hasSeparateLabel=!(!e.settings.label.enabled||!e.str.hasLabelsGroup),e.hover=!!(0,o.It)(e.settings.hoverEnabled,!0),e.selection&&Me(e.selection.state,(function(t,e){e&&e.resetSelected()})),e.selection=rn(e.settings.selectionMode),e.hasSeparateLabel?e.labelRoot||(e.labelRoot=e.renderer.g().attr({class:"dxm-layer-labels"}).linkOn(this._container,{name:e.name+"-labels",after:e.name}).linkAppend(),this._transformCore()):e.labelRoot&&(e.labelRoot.linkRemove().linkOff(),e.labelRoot=null),t&&this._createHandles(),Yn(e),e.str.arrange(e,this._handles),e.str.updateGrouping(e),this._updateHandles(),this._params.notifyReady(),this._dataSourceLoaded?(this._dataSourceLoaded.resolve(),this._dataSourceLoaded=null):this._params.dataReady()},getBounds(){return on(this._handles.map((t=>{var{proxy:e}=t;return e.coordinates().map((t=>{if(Ue(t)){var e=Ue(t[0][0])?t.reduce(((t,e)=>t.concat(e)),[]):t,n=e[0];return e.reduce(((t,e)=>[tn(t[0],e[0]),tn(t[1],e[1]),en(t[2],e[0]),en(t[3],e[1])]),[n[0],n[1],n[0],n[1]])}}))})).map(on))},_destroyHandles(){this._handles.forEach((t=>t.dispose())),this._context.selection&&(this._context.selection.state={}),this._handles=[]},_createHandles:function(){var t,e,n,o=this._handles=[],i=this._data,r=o.length=i.count(),a=this._context,l=i.geometry,s=i.attributes;for(t=0;t<r;++t)n=i.item(t),o[t]=new Gn(a,t,l(n),s(n));for((0,Le.mf)(this._options.customize)&&pn(this.getProxies(),this._options.customize,this._params.widget),t=0;t<r;++t)e=o[t],e.project(),e.draw(),e.transform();a.selection&&Me(a.selection.state,(function(t,e){e&&e.restoreSelected()}))},_updateHandles:function(){var t,e=this._handles,n=e.length;for(t=0;t<n;++t)e[t].refresh();if(this._context.settings.label.enabled){for(t=0;t<n;++t)e[t].measureLabel();for(t=0;t<n;++t)e[t].adjustLabel()}},_transformCore:function(){var t=this._params.projection.getTransform();this._context.root.attr(t),this._context.labelRoot&&this._context.labelRoot.attr(t)},_project:function(){var t,e=this._handles,n=e.length;for(t=0;t<n;++t)e[t].project()},_transform:function(){var t,e=this._handles,n=e.length;for(this._transformCore(),t=0;t<n;++t)e[t].transform()},getProxies(){return this._handles.map((t=>t.proxy))},getProxy:function(t){return this._handles[t].proxy},raiseClick:function(t,e){this._params.eventTrigger("click",{target:this._handles[t].proxy,event:e})},hoverItem:function(t,e){this._handles[t].setHovered(e)},selectItem:function(t,e,n){this._handles[t].setSelected(e,n)},clearSelection:function(){var t=this._context.selection;t&&(Me(t.state,(function(t,e){e&&e.setSelected(!1)})),t.state={})}},De.Z),Gn=function(t,e,n,o){var i=this.proxy=Jn(this,n.coordinates,Re({},o));this._ctx=t,this._index=e,this._fig=this._label=null,this._state=We,this._coordinates=n.coordinates,this._settings={label:{}},i.index=e,i.layer=t.layer,this._data={name:t.name,index:e}},Gn.prototype={constructor:Gn,dispose:function(){return this._ctx=this.proxy=this._settings=this._fig=this._label=this.data=null,this},project:function(){var t=this._ctx;this._projection=t.str.project(t.projection,this._coordinates),t.hasSeparateLabel&&this._label&&this._projectLabel()},_projectLabel:function(){this._labelProjection=this._ctx.str.projectLabel(this._projection)},draw:function(){var t=this._ctx;t.str.draw(t,this._fig={},this._data),this._fig.root.append(t.root)},transform:function(){var t=this._ctx;t.str.transform(this._fig,t.projection,this._projection),t.hasSeparateLabel&&this._label&&this._transformLabel()},_transformLabel:function(){this._ctx.str.transformLabel(this._label,this._ctx.projection,this._labelProjection)},refresh:function(){var t=this._ctx.str,e=Mn(this._ctx,this.proxy,this._settings);this._styles=t.getStyles(e),t.refresh(this._ctx,this._fig,this._data,this.proxy,e),this._refreshLabel(e),this._setState()},_refreshLabel:function(t){var e=this._ctx,n=t.label,i=this._label;e.settings.label.enabled?(i||(i=this._label={root:e.labelRoot||this._fig.root,text:e.renderer.text().attr({class:"dxm-label"}),size:[0,0]},e.hasSeparateLabel&&(this._projectLabel(),this._transformLabel())),i.value=qe(this.proxy.text||this.proxy.attribute(n.dataField)||""),i.value&&(i.text.attr({text:i.value,x:0,y:0}).css((0,o.FI)(n.font)).attr({align:"center",stroke:n.stroke,"stroke-width":n["stroke-width"],"stroke-opacity":n["stroke-opacity"]}).data(e.dataKey,this._data).append(i.root),i.settings=t)):i&&(i.text.remove(),this._label=null)},measureLabel:function(){var t,e=this._label;e.value&&(t=e.text.getBBox(),e.size=[t.width,t.height,-t.y-t.height/2])},adjustLabel:function(){var t,e=this._label;e.value&&(t=this._ctx.str.getLabelOffset(e,e.settings),e.settings=null,e.text.attr({x:t[0],y:t[1]+e.size[2]}))},update:function(t){this._settings=Hn(this._settings,t),this._fig&&(this.refresh(),this._label&&this._label.value&&(this.measureLabel(),this.adjustLabel()))},_setState:function(){this._ctx.str.setState(this._fig,this._styles,Ke[this._state])},_setForeground:function(){var t=this._fig.root;this._state?t.toForeground():t.toBackground()},setHovered:function(t){var e=Un(this._state,$e),n=!!t;return this._ctx.hover&&e!==n&&(this._state=Xn(this._state,$e,n),this._setState(),this._setForeground(),Pn(this._ctx,this,n,"hoverChanged")),this},setSelected:function(t,e){var n,o=Un(this._state,Ge),i=!!t,r=this._ctx.selection;r&&o!==i&&(this._state=Xn(this._state,Ge,i),n=r.state[r.single],r.state[r.single]=null,n&&n.setSelected(!1),r.state[r.single||this._index]=t?this:null,this._fig&&(this._setState(),this._setForeground(),e||Pn(this._ctx,this,i,"selectionChanged")))},isSelected:function(){return Un(this._state,Ge)},resetSelected:function(){this._state=Xn(this._state,Ge,!1)},restoreSelected:function(){this._fig.root.toForeground()}},oo.prototype={constructor:oo,dispose:function(){this._clip.dispose(),this._layers.forEach((t=>t.dispose())),this._offTracker(),this._params=this._offTracker=this._layers=this._layerByName=this._clip=this._background=this._container=null},_subscribeToTracker:function(t,e,n){var o=this;o._offTracker=t.on({click:function(t){var i=e.getRootOffset(),r=o.byName(t.data.name);t.$event.x=t.x-i.left,t.$event.y=t.y-i.top,r?r.raiseClick(t.data.index,t.$event):"background"===t.data.name&&n("click",{event:t.$event})},"hover-on":function(t){var e=o.byName(t.data.name);e&&e.hoverItem(t.data.index,!0)},"hover-off":function(t){var e=o.byName(t.data.name);e&&e.hoverItem(t.data.index,!1)}})},setOptions(t){var e,n=t?Ue(t)?t:[t]:[],o=this._layers,i=n.length!==o.length||o.some(((t,e)=>{var o=an(n,e);return(0,Le.$K)(o)&&o!==t.proxy.name}));if(i){this._params.tracker.reset(),this._layers.forEach((t=>t.dispose()));var r=this._layerByName={};this._layers=o=[];for(var a=0,l=n.length;a<l;++a){var s=an(n,a)||"map-layer-"+a,u=o[a]=new qn(this._params,this._container,s,a);r[s]=u}}o.forEach(((t,e)=>{t.setOptions(n[e])})),e=o.map((t=>t.getDataReadyCallback())),e.length&&Ae.gx.apply(void 0,e).done(this._dataReady)},_updateClip:function(){var t=this._rect,e=this._borderWidth;this._clip.attr({x:t[0]+e,y:t[1]+e,width:en(t[2]-2*e,0),height:en(t[3]-2*e,0)})},setBackgroundOptions:function(t){this._background.attr({stroke:t.borderColor,"stroke-width":t.borderWidth,fill:t.color}),this._borderWidth=en(t.borderWidth,0),this._updateClip()},setRect:function(t){this._rect=t,this._background.attr({x:t[0],y:t[1],width:t[2],height:t[3]}),this._updateClip()},byIndex:function(t){return this._layers[t]},byName:function(t){return this._layerByName[t]},items:function(){return this._layers}};var io=12;function ro(t){this._subscribeToTracker(t.tracker,t.tooltip,t.layerCollection)}ro.prototype={constructor:ro,dispose:function(){this._offTracker(),this._offTracker=null},_subscribeToTracker:function(t,e,n){this._offTracker=t.on({"focus-on":function(t){var o,i;if(e.isEnabled()){o=n.byName(t.data.name),i=o&&o.getProxy(t.data.index);var r=e=>{e&&t.done(e)};i&&r(e.show(i,{x:t.x,y:t.y,offset:io},{target:i},void 0,r))}},"focus-move":function(t){e.move(t.x,t.y,io)},"focus-off":function(){e.hide()}})}};var ao=1;function lo(){return"vectormap-data-"+ao++}var so=Math.min,uo=Math.max,co=Math.sin,ho=Math.asin,po=Math.tan,mo=Math.atan,_o=Math.exp,fo=Math.log,go=Math.PI,vo=go/4,bo=180,yo=90,xo=go/180,Co=(2*mo(_o(go))-go/2)/xo,So=(2.5*mo(_o(.8*go))-.625*go)/xo;function No(t,e){return uo(so(t,+e),-e)}M.add("mercator",M({aspectRatio:1,to:function(t){return[t[0]/bo,fo(po(vo+No(t[1],Co)*xo/2))/go]},from:function(t){return[t[0]*bo,(2*mo(_o(t[1]*go))-go/2)/xo]}})),M.add("equirectangular",M({aspectRatio:2,to:function(t){return[t[0]/bo,t[1]/yo]},from:function(t){return[t[0]*bo,t[1]*yo]}})),M.add("lambert",M({aspectRatio:2,to:function(t){return[t[0]/bo,co(No(t[1],yo)*xo)]},from:function(t){return[t[0]*bo,ho(No(t[1],1))/xo]}})),M.add("miller",M({aspectRatio:1,to:function(t){return[t[0]/bo,1.25*fo(po(vo+No(t[1],So)*xo*.4))/go]},from:function(t){return[t[0]*bo,(2.5*mo(_o(.8*t[1]*go))-.625*go)/xo]}}));var Oo=n(66060),wo=n(70732),ko=n(21979),Eo=n(68073),zo=n(53151),To=n(65418),jo=n(81395),Bo=800,Do=400,Lo=/^layers/,Ao=/\.dataSource$/;function Io(t,e){return e?[Math.min(e[0],e[2],t[0]),Math.min(e[1],e[3],t[3]),Math.max(e[0],e[2],t[2]),Math.max(e[1],e[3],t[1])]:t}var Ro=Oo.Z.inherit({_eventsMap:{onClick:{name:"click"},onCenterChanged:{name:"centerChanged"},onZoomFactorChanged:{name:"zoomFactorChanged"},onHoverChanged:{name:"hoverChanged"},onSelectionChanged:{name:"selectionChanged"}},_rootClassPrefix:"dxm",_rootClass:"dxm-vector-map",_themeSection:"map",_fontFields:["layer:area.label.font","layer:marker:dot.label.font","layer:marker:bubble.label.font","layer:marker:pie.label.font","layer:marker:image.label.font","legend.font","legend.title.font","legend.title.subtitle.font"],_initLayerCollection:function(t){var e=this;e._layerCollection=new oo({renderer:e._renderer,projection:e._projection,themeManager:e._themeManager,tracker:e._tracker,dataKey:t,eventTrigger:e._eventTrigger,dataExchanger:e._dataExchanger,tooltip:e._tooltip,notifyDirty:e._notifyDirty,notifyReady:e._notifyReady,dataReady(){var t;if(e.option("getBoundsFromData")&&!e.option("bounds")&&(e._preventProjectionEvents(),t=e._getBoundsFromData(),e._projection.setBounds(t),e._allowProjectionEvents()),!e.option("projection")&&(t=t||e._getBoundsFromData(),Math.ceil(t[0])<-180||Math.ceil(t[3])<-90||Math.floor(t[2])>180||Math.floor(t[1])>90)){var n=t[2]-t[0],o=t[1]-t[3];e._projection.setEngine({to:e=>[2*(e[0]-t[0])/n-1,2*(e[1]-t[3])/o-1],from:e=>[(e[0]+1)*n/2+t[0],(e[1]+1)*o/2+t[3]]})}}})},_getBoundsFromData(){var t=this._getBoundingBoxFromDataSource();if(!t){var e=on(this.getLayers().map((t=>t.getBounds())));e&&(t=e)}return t=t||[],t=[t[0],t[3],t[2],t[1]],t},_initLegendsControl:function(){this._legendsControl=new ve({renderer:this._renderer,container:this._root,widget:this,layoutControl:this._layoutControl,themeManager:this._themeManager,dataExchanger:this._dataExchanger,notifyDirty:this._notifyDirty,notifyReady:this._notifyReady})},_initControlBar:function(t){this._controlBar=new pt({renderer:this._renderer,container:this._root,layoutControl:this._layoutControl,projection:this._projection,tracker:this._tracker,dataKey:t})},_initElements:function(){var t,e=this,n=lo(),o=0;e._preventProjectionEvents=function(){t=!0},e._allowProjectionEvents=function(){t=!1},e._notifyDirty=function(){e._resetIsReady(),++o},e._notifyReady=function(){e._allowProjectionEvents(),0===--o&&e._drawn()},e._preventProjectionEvents(),e._dataExchanger=new ue,e._projection=new w({centerChanged:function(n){t||e._eventTrigger("centerChanged",{center:n})},zoomChanged:function(n){t||e._eventTrigger("zoomFactorChanged",{zoomFactor:n})}}),e._tracker=new te({root:e._root,projection:e._projection,dataKey:n}),e._gestureHandler=new xt({projection:e._projection,renderer:e._renderer,tracker:e._tracker}),e._layoutControl=new je(e),e._layoutControl.suspend(),e._initLayerCollection(n),e._createHtmlStructure(),e._initControlBar(n),e._initLegendsControl(),e._prepareExtraElements(),e._tooltipViewer=new ro({tracker:e._tracker,tooltip:e._tooltip,layerCollection:e._layerCollection})},_change_RESUME_LAYOUT:function(){this._layoutControl.resume()},_initialChanges:["PROJECTION","RESUME_LAYOUT","LAYOUT_INIT","BOUNDS","MAX_ZOOM_FACTOR","ZOOM_FACTOR","CENTER"],_layoutChangesOrder:["RESUME_LAYOUT","LAYERS"],_customChangesOrder:["EXTRA_ELEMENTS"],_initCore:function(){this._root=this._renderer.root.attr({align:"center",cursor:"default"}),this._initElements()},_disposeCore:function(){this._controlBar.dispose(),this._gestureHandler.dispose(),this._tracker.dispose(),this._legendsControl.dispose(),this._layerCollection.dispose(),this._layoutControl.dispose(),this._tooltipViewer.dispose(),this._dataExchanger.dispose(),this._projection.dispose(),this._dataExchanger=this._gestureHandler=this._projection=this._tracker=this._layoutControl=this._root=this._layerCollection=this._controlBar=this._legendsControl=null},_setupInteraction:function(){var t={centeringEnabled:!!(0,o.It)(this._getOption("panningEnabled",!0),!0),zoomingEnabled:!!(0,o.It)(this._getOption("zoomingEnabled",!0),!0)};this._gestureHandler.setInteraction(t),this._controlBar.setInteraction(t)},_getDefaultSize:function(){return{width:Bo,height:Do}},_applySize:function(t){var e={left:t[0],top:t[1],width:t[2]-t[0],height:t[3]-t[1],right:0,bottom:0};this._projection.setSize(e),this._layoutControl.setSize(e),this._layerCollection.setRect([e.left,e.top,e.width,e.height]),this._requestChange(["EXTRA_ELEMENTS"])},_optionChanging:function(t,e,n){e&&n&&Lo.test(t)&&(e.dataSource&&n.dataSource&&e!==n?e.dataSource=null:Ao.test(t)&&this.option(t,null))},_applyChanges:function(){this._notifyDirty(),this.callBase.apply(this,arguments),this._notifyReady()},_optionChangesMap:{background:"BACKGROUND",layers:"LAYERS",extraElements:"EXTRA_ELEMENTS",controlBar:"CONTROL_BAR",legends:"LEGENDS",touchEnabled:"TRACKER",wheelEnabled:"TRACKER",panningEnabled:"INTERACTION",zoomingEnabled:"INTERACTION",projection:"PROJECTION",bounds:"BOUNDS",maxZoomFactor:"MAX_ZOOM_FACTOR",zoomFactor:"ZOOM_FACTOR",center:"CENTER"},_optionChangesOrder:["PROJECTION","BOUNDS","MAX_ZOOM_FACTOR","ZOOM_FACTOR","CENTER","BACKGROUND","CONTROL_BAR","LEGENDS","TRACKER","INTERACTION"],_change_PROJECTION:function(){this._setProjection()},_change_BOUNDS:function(){this._setBounds()},_change_MAX_ZOOM_FACTOR:function(){this._setMaxZoom()},_change_ZOOM_FACTOR:function(){this._setZoom()},_change_CENTER:function(){this._setCenter()},_change_BACKGROUND:function(){this._setBackgroundOptions()},_change_LAYERS:function(){this._setLayerCollectionOptions()},_change_CONTROL_BAR:function(){this._setControlBarOptions()},_change_EXTRA_ELEMENTS:function(){this._renderExtraElements()},_change_LEGENDS:function(){this._setLegendsOptions()},_change_TRACKER:function(){this._setTrackerOptions()},_change_INTERACTION:function(){this._setupInteraction()},_themeDependentChanges:["BACKGROUND","LAYERS","CONTROL_BAR","LEGENDS","TRACKER","INTERACTION"],_setProjection:function(){this._projection.setEngine(this.option("projection"))},_setBounds:function(){this._projection.setBounds(this.option("bounds"))},_setMaxZoom:function(){this._projection.setMaxZoom(this.option("maxZoomFactor"))},_setZoom:function(){this._projection.setZoom(this.option("zoomFactor"))},_setCenter:function(){this._projection.setCenter(this.option("center"))},_setBackgroundOptions:function(){this._layerCollection.setBackgroundOptions(this._getOption("background"))},_setLayerCollectionOptions:function(){this._layerCollection.setOptions(this.option("layers"))},_getBoundingBoxFromDataSource(){var t=this._layerCollection.items(),e=[1/0,-1/0,-1/0,1/0],n=t&&t.length?t.reduce(((t,e)=>{var n=e.getData(),o=n.count();if(o>0){var i=n.getBBox();if(i)t=Io(t,i);else for(var r=0;r<o;r++)t=Io(t,n.getBBox(r))}return t}),e):void 0;return n===e?void 0:n},_setControlBarOptions:function(){this._controlBar.setOptions(this._getOption("controlBar"))},_setLegendsOptions:function(){this._legendsControl.setOptions(this.option("legends"))},_setTrackerOptions:function(){this._tracker.setOptions({touchEnabled:this._getOption("touchEnabled",!0),wheelEnabled:this._getOption("wheelEnabled",!0)})},getLayers(){return this._layerCollection.items().map((t=>t.proxy))},getLayerByIndex:function(t){var e=this._layerCollection.byIndex(t);return e?e.proxy:null},getLayerByName:function(t){var e=this._layerCollection.byName(t);return e?e.proxy:null},clearSelection:function(t){var e,n=this._layerCollection.items(),o=n.length;for(e=0;e<o;++e)n[e].clearSelection(t);return this},center:function(t){return void 0===t?this._projection.getCenter():(this._projection.setCenter(t),this)},zoomFactor:function(t){return void 0===t?this._projection.getZoom():(this._projection.setZoom(t),this)},viewport:function(t){return void 0===t?this._projection.getViewport():(this._projection.setViewport(t),this)},convertCoordinates:function(t){return t=t&&t.length?t:[arguments[0],arguments[1]],this.convertToGeo(t[0],t[1])},convertToGeo:function(t,e){return this._projection.fromScreenPoint([t,e])},convertToXY:function(t,e){return this._projection.toScreenPoint([t,e])}});(0,wo.Z)("dxVectorMap",Ro);var Mo=Ro;Ro.addPlugin(ko.BA),Ro.addPlugin(Eo.B),Ro.addPlugin(zo.B),Ro.addPlugin(To.B),Ro.addPlugin(jo.G.core),Ro.addPlugin(jo.G.vectorMap);var Fo=Mo}}]);