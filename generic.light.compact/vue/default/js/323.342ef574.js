"use strict";(self["webpackChunkvue_ts4"]=self["webpackChunkvue_ts4"]||[]).push([[323],{2323:function(e,t,i){i.r(t);var n=i(15161);t["default"]=n.Z},15161:function(e,t,i){i.d(t,{Z:function(){return U}});i(52262),i(24506);var n=i(79264),s=i(60621),o=i(66487),a=i(70732),r=i(84392),h=i(12117),u=i(12145),l=i(9783),d=i(72602),m=i(70636),_=i(84518),b=i(12901),c=i(8121),p=i(1959),v=i(93876),g=i(82336),S=i(64579),f="dx-context-menu-content-delimiter",C="dx-submenu";class y extends S["default"]{_getDefaultOptions(){return(0,d.l)(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:r.ZT})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=(0,s.Z)("<div>").appendTo(this._itemContainer()).addClass(f)}_getOverlayOptions(){return(0,d.l)(super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_hoverStartHandler(e){var t=this.option("onHoverStart");t(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:(0,h.u)(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:(0,h.u)(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:(0,h.u)(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:(0,h.u)(e),submenu:this})}_showDelimiter(e){if(this.$contentDelimiter){var t=this._itemContainer().children(".".concat(C)).eq(0),i=this.option("position").of,s={of:t},o=e.position,a=o.v.location,r=o.h.location,h=i.offset(),u=Math.round(h.left),l=Math.round(h.top),d=(0,n.dz)(i),m=(0,n.Cr)(i),_=(0,n.dz)(t),b=(0,n.Cr)(t);this.$contentDelimiter.css("display","block"),(0,n.cl)(this.$contentDelimiter,this._isMenuHorizontal()?d<_?d-2:_:2),(0,n.QQ)(this.$contentDelimiter,this._isMenuHorizontal()?2:m<b?m-2:b),this._isMenuHorizontal()?a>l?Math.round(r)===u?(s.offset="1 -1",s.at=s.my="left top"):(s.offset="-1 -1",s.at=s.my="right top"):((0,n.QQ)(this.$contentDelimiter,5),Math.round(r)===u?(s.offset="1 4",s.at=s.my="left bottom"):(s.offset="-1 2",s.at=s.my="right bottom")):r>u?Math.round(a)===l?(s.offset="-1 1",s.at=s.my="left top"):(s.offset="-1 -1",s.at=s.my="left bottom"):Math.round(a)===l?(s.offset="1 1",s.at=s.my="right top"):(s.offset="1 -1",s.at=s.my="right bottom"),g.Z.setup(this.$contentDelimiter,s)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var I=y,w=i(47949),E=i(39230),H="dx-menu",O=H+"-vertical",M=H+"-horizontal",A=H+"-item",T=H+"-items-container",k=A+"-expanded",x="dx-context-menu",D=x+"-container-border",$="dx-context-menu-content-delimiter",Z="dx-submenu",B="dx-state-disabled",V="dx-state-hover",F="dx-state-active",N=H+"-adaptive-mode",R=H+"-hamburger-button",z=N+"-overlay-wrapper",K="up",L="down",P="left",W="right",q="showSubmenu",Q="nextItem",j="prevItem",G={show:50,hide:300},J=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class Y extends p.Z{_getDefaultOptions(){return(0,d.l)(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),(0,d.l)(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),t=this._submenuItemElements();return e.add(t)}_submenuItemElements(){var e=[],t=".".concat(A),i=this._submenus.length&&this._submenus[0];return i&&i.itemsContainer()&&(e=i.itemsContainer().find(t)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return"horizontal"===this.option("orientation")}_moveFocus(e){var t,i,n,s,o=this._getAvailableItems(),a=this._isMenuHorizontal(),r=this._getActiveItem(!0);switch(e){case K:i=a?q:this._getItemsNavigationOperation(j),t=a?r:o,n=this._getKeyboardNavigationAction(i,t),s=n();break;case L:i=a?q:this._getItemsNavigationOperation(Q),t=a?r:o,n=this._getKeyboardNavigationAction(i,t),s=n();break;case W:i=a?this._getItemsNavigationOperation(Q):q,t=a?o:r,n=this._getKeyboardNavigationAction(i,t),s=n();break;case P:i=a?this._getItemsNavigationOperation(j):q,t=a?o:r,n=this._getKeyboardNavigationAction(i,t),s=n();break;default:return super._moveFocus(e)}s&&0!==s.length&&this.option("focusedElement",(0,h.u)(s))}_getItemsNavigationOperation(e){var t=e;return this.option("rtlEnabled")&&(t=e===j?Q:j),t}_getKeyboardNavigationAction(e,t){var i=r.ZT;switch(e){case q:t.hasClass(B)||(i=this._showSubmenu.bind(this,t));break;case Q:i=this._nextItem.bind(this,t);break;case j:i=this._prevItem.bind(this,t)}return i}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(A));this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var e=(0,n.Y_)(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},(0,u.S6)(J,((e,t)=>{this._actions[t]=this._createActionByOption(t)}))}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(H),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new w["default"]((0,s.Z)("<div>").addClass(R),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){(0,l.PO)(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(F,e)}_toggleAdaptiveMode(e){var t=this.$element().find(".".concat(M)),i=this.$element().find(".".concat(N));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),t.toggle(!e),i.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),t=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>(0,m._)(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:e=>!(0,s.Z)(e.target).closest(".".concat(R)).length,position:{collision:"flipfit",at:"bottom "+t,my:"top "+t,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return(0,u.S6)(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],((t,i)=>{e[i]=this.option(i)})),(0,u.S6)(["onItemContextMenu","onSelectionChanged","onItemRendered"],((t,i)=>{e[i]=e=>{this._actions[i](e)}})),(0,d.l)(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:e=>{this._overlay.repaint(),this._actions.onSubmenuShown(e)},onItemCollapsed:e=>{this._overlay.repaint(),this._actions.onSubmenuHidden(e)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=(0,s.Z)("<div>").addClass(N);var e=this._renderHamburgerButton();this._treeView=this._createComponent((0,s.Z)("<div>"),E["default"],this._getTreeViewOptions()),this._overlay=this._createComponent((0,s.Z)("<div>"),v.Z,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(N).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(z),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var t=this.option("showFirstSubmenuMode").delay;return(0,l.$K)(t)?(0,l.Kn)(t)?t[e]:t:G[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=(0,s.Z)("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?M:O),super._renderContainer(e)}_renderSubmenuItems(e,t){var i=this._createSubmenu(e,t);return this._submenus.push(i),this._renderBorderElement(t),i}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,t){var i=(0,s.Z)("<div>").addClass(x).appendTo(t),n=this._getChildNodes(e),o=this._createComponent(i,I,(0,d.l)(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:n,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,o),o}_getSubmenuOptions(){var e=(0,s.Z)("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:e=>{e.component.option("visible")&&this.option("focusedElement",e.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:t?null:this._moveMainMenuFocus.bind(this,j),onLeftLastItem:t?null:this._moveMainMenuFocus.bind(this,Q),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,t?j:null),onExpandLastSubmenu:t?this._moveMainMenuFocus.bind(this,Q):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return(0,l.Kn)(e)?e.name:e}_moveMainMenuFocus(e){var t=this._getAvailableItems(),i=t.length,n=t.filter(".".concat(k)).eq(0),s=t.index(n);this._hideSubmenu(this._visibleSubmenu),s+=e===j?-1:1,s>=i?s=0:s<0&&(s=i-1);var o=t.eq(s);this.option("focusedElement",(0,h.u)(o))}_nestedItemOnSelectionChangedHandler(e){var t=e.addedItems.length&&e.addedItems[0],i=I.getInstance(e.element),n=this._actions.onSelectionChanged;n(e),t&&this._clearSelectionInSubmenus(t[0],i),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}_clearSelectionInSubmenus(e,t){var i=!arguments.length;(0,u.S6)(this._submenus,((e,n)=>{var s=n._itemContainer(),o=!s.is(t&&t._itemContainer()),a=s.find(".".concat(this._selectedItemClass()));if(o&&a.length||i){a.removeClass(this._selectedItemClass());var r=this._getItemData(a);r&&(r.selected=!1),n._clearSelectedItems()}}))}_clearRootSelection(){var e=this.$element().find(".".concat(T)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var t=this._getItemData(e);t.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,t){var i=t.getOverlayContent(),n=i.find(".".concat(Z)),s=(0,_.V4)(c.u,this.NAME+"_submenu");t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),(0,u.S6)(n,((t,i)=>{o.Z.off(i,s),o.Z.on(i,s,null,this._submenuMouseLeaveHandler.bind(this,e))}))}_submenuOnShowingHandler(e,t){var i=e.children(".".concat(D));this._actions.onSubmenuShowing({rootItem:(0,h.u)(e),submenu:t}),i.show(),e.addClass(k)}_submenuOnShownHandler(e,t){this._actions.onSubmenuShown({rootItem:(0,h.u)(e),submenu:t})}_submenuOnHidingHandler(e,t,i){var n=e.children(".".concat(D)),s=i;s.rootItem=(0,h.u)(e),s.submenu=t,this._actions.onSubmenuHiding(s),i=s,i.cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),n.hide(),e.removeClass(k))}_submenuOnHiddenHandler(e,t){this._actions.onSubmenuHidden({rootItem:(0,h.u)(e),submenu:t})}_submenuMouseLeaveHandler(e,t){var i=(0,s.Z)(t.relatedTarget).parents(".".concat(x))[0],n=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&i!==n&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var e=(0,s.Z)(this._visibleSubmenu.$element().context).hasClass(V),t=this._visibleSubmenu.getOverlayContent().find(".".concat(V)).length,i=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");i||t||e||this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var t=e.children(".".concat(x));return t.length&&I.getInstance(t)}getSubmenuPosition(e){var t=this._isMenuHorizontal(),i=this.option("submenuDirection").toLowerCase(),n=this.option("rtlEnabled"),s={collision:"flip",of:e};switch(i){case"leftortop":s.at="left top",s.my=t?"left bottom":"right top";break;case"rightorbottom":s.at=t?"left bottom":"right top",s.my="left top";break;default:t?(s.at=n?"right bottom":"left bottom",s.my=n?"right top":"left top"):(s.at=n?"left top":"right top",s.my=n?"right top":"left top")}return s}_renderBorderElement(e){(0,s.Z)("<div>").appendTo(e).addClass(D).hide()}_itemPointerDownHandler(e){var t=(0,s.Z)(e.target),i=t.closest(this._itemElements());i.hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):super._itemPointerDownHandler(e)}_hoverStartHandler(e){var t=(0,_.V4)(b.Z.move,this.NAME),i=this._getItemElementByEventArgs(e),n=this._dataAdapter.getNodeByItem(this._getItemData(i)),s=(0,l.$K)(e.buttons)&&1===e.buttons||!(0,l.$K)(e.buttons)&&1===e.which;if(!this._isItemDisabled(i))if(o.Z.off(i,t),this._hasChildren(n)){if("onHover"===this._getShowFirstSubmenuMode()&&!s){var a=this._getSubmenuByElement(i);this._clearTimeouts(),a.isOverlayVisible()||(o.Z.on(i,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}else this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"))}_hoverEndHandler(e){var t=this._getItemElementByEventArgs(e),i=(0,s.Z)(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),this._isItemDisabled(t)||i.hasClass($)||this.option("hideSubmenuOnMouseLeave")&&!i.hasClass(T)&&(this._hideSubmenuTimer=setTimeout((()=>{this._hideSubmenuAfterTimeout()}),this._getDelay("hide")))}_hideVisibleSubmenu(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}_showSubmenu(e){var t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(this._clearTimeouts(),t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!e.pointers||!e.pointers.length){var t=(0,s.Z)(e.currentTarget);(0,l.$K)(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout((()=>{var e=this._getSubmenuByElement(t);e&&!e.isOverlayVisible()&&this._showSubmenu(t)}),this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,t){var i=this._getSubmenuByRootElement(e);if(i)return i;t=t||this._getItemData(e);var n=this._dataAdapter.getNodeByItem(t);return this._hasChildren(n)&&this._renderSubmenuItems(n,e)}_updateSubmenuVisibilityOnClick(e){var t=e.args.length&&e.args[0];if(t&&!this._disabledGetter(t.itemData)){var i=(0,s.Z)(t.itemElement),n=this._getSubmenuByElement(i,t.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===n)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}n&&(n.isOverlayVisible()||this._showSubmenu(i))}}_optionChanged(e){if(J.indexOf(e.name)>=0)this._initActions();else switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:!this._isAdaptivityEnabled()||e.name!==e.fullName&&"items"!==e.name||this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,t){(0,u.S6)(this._submenus,((i,n)=>{n.option(e,t)}))}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}}(0,a.Z)("dxMenu",Y);var U=Y},70636:function(e,t,i){i.d(t,{_:function(){return h}});var n=i(79264),s=i(60621),o=i(56901),a=i(9783),r=.9,h=(e,t)=>{var i,h=(0,s.Z)((0,o.Jj)()),{top:u}=e.offset();if((0,a.kE)(t)){if(t<u)return u-t;i=(0,n.fA)(h)-t+h.scrollTop()}else{var l=u-h.scrollTop(),d=(0,n.fA)(h)-l-(0,n.zp)(e);i=Math.max(l,d)}return i*r}}}]);