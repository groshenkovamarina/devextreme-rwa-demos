"use strict";(self["webpackChunkvue_ts4"]=self["webpackChunkvue_ts4"]||[]).push([[965],{16562:function(e,l,t){t.d(l,{Z:function(){return _}});var a=t(73396),i=t(44870),n=t(87139),o=t(4702),s=t(20788),u=t(99660),d=t(85219);const c={id:"activities-list"},m={class:"activity"},v={class:"name"},p={key:0};var r=(0,a.aZ)({__name:"contact-activities",props:{isLoading:{type:Boolean,default:!0},showBy:{type:Boolean,default:!1},items:null},setup(e){const l=e,t=[{icon:"overflow",items:[{text:"View details"},{text:"Delete"}]}];return(e,r)=>((0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(d.Z,{"is-loading":l.isLoading,"container-selector":"#activities-list"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,i.SU)(o.DxList),{class:"activities-list",items:l.items,scrollingEnabled:!1},{item:(0,a.w5)((({data:e})=>[(0,a._)("div",null,[(0,a._)("div",m,[(0,a._)("div",v,(0,n.zw)(e.name),1),(0,a._)("div",{class:(0,n.C_)(["date",{by:l.showBy}])},[(0,a._)("span",null,(0,n.zw)((0,i.SU)(u.p6)(new Date(e.date))),1),l.showBy?((0,a.wg)(),(0,a.iD)("span",p,"by")):(0,a.kq)("",!0),(0,a._)("span",null,(0,n.zw)(e.manager),1)],2),(0,a.Wm)((0,i.SU)(s.DxMenu),{class:"overflow-menu",items:t})])])])),_:1},8,["items"])])),_:1},8,["is-loading"])]))}}),w=t(40089);const f=(0,w.Z)(r,[["__scopeId","data-v-71babeb9"]]);var _=f},5545:function(e,l,t){t.r(l),t.d(l,{default:function(){return z}});var a=t(73396),i=t(87139),n=t(44870),o=t(50256),s=t(88707),u=t(55897),d=t(6224),c=t(94969),m=t(45903),v=t(68389),p=t(81011),r=t(42866),w=t(19647),f=t(99660),_=t(16562),x=t(85219),D=t(13227);const g=e=>((0,a.dD)("data-v-8f382070"),e=e(),(0,a.Cn)(),e),b={class:"data-wrapper"},W={class:"data-part"},S={class:"contact-name"},U={class:"data-part border"},y={class:"data-part data-part-toolbar border"},k={class:"data-part"},I={class:"accordion-title"},C={class:"value"},B=g((()=>(0,a._)("br",null,null,-1))),V={class:"value black small"},Z=g((()=>(0,a._)("br",null,null,-1)));var h=(0,a.aZ)({__name:"contact-panel",props:{isPanelOpen:{type:Boolean,default:!1},userId:{default:null}},emits:["close"],setup(e,{emit:l}){const t=e,g=(0,n.iH)(!1),h=(0,n.iH)(!1),M=(0,n.iH)(!1),H=(0,n.iH)(!0),z=(0,n.iH)(null),P=()=>{g.value=!g.value},Y=[{name:"phone",mask:"+1(000)000-0000",icon:"tel"},{name:"email",icon:"email"},{name:"address",icon:"home"}];(0,a.YP)(w.Br,(e=>{H.value=e.isLarge||e.isMedium,!1===H.value&&(M.value=!1)}));const A=async e=>{h.value=!0,z.value=await(0,s.vS)(e),h.value=!1};function L(){}(0,a.YP)((()=>t.userId),(e=>{null!==e&&A(e)}));const E=()=>{o.N.push("/crm-contact-details")};return(e,o)=>((0,a.wg)(),(0,a.iD)("div",{id:"contact-panel",class:(0,i.C_)(["panel",{pin:M.value,open:t.isPanelOpen}])},[(0,a._)("div",b,[(0,a.Wm)(x.Z,{width:300,"container-selector":"#contact-panel","is-loading":h.value},{default:(0,a.w5)((()=>[z.value?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",W,[(0,a.Wm)((0,n.SU)(v.DxToolbar),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before"},{default:(0,a.w5)((()=>[(0,a._)("div",S,(0,i.zw)(z.value?.name),1)])),_:1}),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.Z,{status:z.value?.status},null,8,["status"])])),_:1}),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"after",widget:"dxButton",visible:H.value,options:{icon:M.value?"unpin":"pin",onClick:()=>M.value=!M.value}},null,8,["visible","options"]),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"after",widget:"dxButton",options:{icon:"close",onClick:()=>l("close")}},null,8,["options"])])),_:1})]),(0,a.Wm)((0,n.SU)(m.DxScrollView),{class:"panel-scroll"},{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a.Wm)((0,n.SU)(c.DxForm),{class:(0,i.C_)([{"view-mode":!g.value},"plain-styled-form"])},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.DxGroupItem),{"col-count":2,"css-class":"photo-row"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.DxItem),{"css-class":"photo-box"},{default:(0,a.w5)((()=>[(0,a.Wm)(p.Z,{link:z.value.image},null,8,["link"])])),_:1}),(0,a.Wm)((0,n.SU)(c.DxGroupItem),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.DxItem),{"css-class":"accent"},{default:(0,a.w5)((()=>[(0,a.Wm)(D.Z,{label:"Company",modelValue:z.value["company"],"onUpdate:modelValue":o[0]||(o[0]=e=>z.value["company"]=e),"is-editing":g.value},null,8,["modelValue","is-editing"])])),_:1}),(0,a.Wm)((0,n.SU)(c.DxItem),null,{default:(0,a.w5)((()=>[(0,a.Wm)(D.Z,{modelValue:z.value["position"],"onUpdate:modelValue":o[1]||(o[1]=e=>z.value["position"]=e),label:"Position","is-editing":g.value},null,8,["modelValue","is-editing"])])),_:1}),(0,a.Wm)((0,n.SU)(c.DxItem),{"css-class":"accent"},{default:(0,a.w5)((()=>[(0,a.Wm)(D.Z,{label:"Assigned to",modelValue:z.value["manager"],"onUpdate:modelValue":o[2]||(o[2]=e=>z.value["manager"]=e),"is-editing":g.value},null,8,["modelValue","is-editing"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.DxGroupItem),{cssClass:"contact-fields-group"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(Y,((e,l)=>(0,a.Wm)((0,n.SU)(c.DxItem),{key:l},{default:(0,a.w5)((()=>[(0,a.Wm)(D.Z,{icon:e.icon,modelValue:z.value[e.name],"onUpdate:modelValue":l=>z.value[e.name]=l,"is-editing":g.value,mask:e.mask},null,8,["icon","modelValue","onUpdate:modelValue","is-editing","mask"])])),_:2},1024))),64))])),_:1})])),_:1},8,["class"])]),(0,a._)("div",y,[(0,a.Wm)((0,n.SU)(v.DxToolbar),{class:"panel-toolbar"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before",visible:!g.value},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(d.DxButton),{text:"Edit",icon:"edit",stylingMode:"outlined",type:"default",onClick:o[3]||(o[3]=e=>P())})])),_:1},8,["visible"]),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before",visible:!g.value},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(d.DxButton),{text:"Details","styling-mode":"outlined",type:"default",onClick:o[4]||(o[4]=e=>E())})])),_:1},8,["visible"]),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before",locateInMenu:"before",visible:g.value},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(d.DxButton),{text:"Save",icon:"save","styling-mode":"outlined",type:"default",onClick:o[5]||(o[5]=e=>P())})])),_:1},8,["visible"]),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"before",locateInMenu:"before",visible:g.value},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(d.DxButton),{text:"Cancel",onClick:o[6]||(o[6]=e=>P()),"styling-mode":"text"})])),_:1},8,["visible"]),(0,a.Wm)((0,n.SU)(v.DxItem),{location:"after",widget:"dxDropDownButton",options:{width:120,text:"Actions",stylingMode:"contained",items:["Call","Send Fax","Send Email","Make a Meeting"]}})])),_:1})]),(0,a._)("div",k,[(0,a.Wm)((0,n.SU)(u.DxAccordion),{multiple:!0,collapsible:!0},{title:(0,a.w5)((({data:e})=>[(0,a._)("div",I,[(0,a._)("span",null,(0,i.zw)(e.title),1),(0,a.Wm)((0,n.SU)(d.DxButton),{icon:"add",type:"default",stylingMode:"text",onClick:o[7]||(o[7]=e=>{e.event.stopPropagation(),L(e)})})])])),default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.DxItem),{title:"Opportunities"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.value.opportunities,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{key:l,class:"opportunities"},[(0,a._)("span",C,(0,i.zw)(e.name),1),B,(0,a._)("span",V,(0,i.zw)((0,n.SU)(f.T4)(e.price)),1),Z])))),128))])),_:1}),(0,a.Wm)((0,n.SU)(v.DxItem),{title:"Activities"},{default:(0,a.w5)((()=>[(0,a.Wm)(_.Z,{items:z.value.activities,"is-loading":!1},null,8,["items"])])),_:1})])),_:1})])])),_:1})],64)):(0,a.kq)("",!0)])),_:1},8,["is-loading"])])],2))}}),M=t(40089);const H=(0,M.Z)(h,[["__scopeId","data-v-8f382070"]]);var z=H}}]);